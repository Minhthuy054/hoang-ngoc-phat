!function(t){var e={};function g(n){if(e[n])return e[n].exports;var A=e[n]={i:n,l:!1,exports:{}};return t[n].call(A.exports,A,A.exports,g),A.l=!0,A.exports}g.m=t,g.c=e,g.d=function(t,e,n){g.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},g.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},g.t=function(t,e){if(1&e&&(t=g(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(g.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var A in t)g.d(n,A,function(e){return t[e]}.bind(null,A));return n},g.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return g.d(e,"a",e),e},g.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},g.p="",g(g.s=83)}([function(t,e,g){"use strict";function n(t,e,g,n,A){t.digestTtl(20),g.debugEnabled("dev"===window.location.hostname.split(".").pop()),A.debugInfoEnabled(!1),e.defaults.headers.common["X-Requested-With"]="XMLHttpRequest",n.decorator("$rootScope",["$delegate",function(t){return Object.defineProperty(t.constructor.prototype,"_",{value:_,enumerable:!1}),t}])}g.d(e,"b",(function(){return I})),n.$inject=["$rootScopeProvider","$httpProvider","$logProvider","$provide","$compileProvider"];var A=g(11);function o(t,e,g,n){t.on("keydown",t=>{const A=t.metaKey||t.ctrlKey,o=90===t.keyCode,C=27===t.keyCode,I=t.shiftKey;C&&g.stack?(t.preventDefault(),g.stack.close(),e.apply()):A&&o&&(I?n.redo():n.undo(),e.apply(),t.preventDefault())})}o.$inject=["$document","app","store","history"];var C=g(1);const I=new class{controller(t,e){C.b.shortcodes.hasOwnProperty(t)&&(C.b.shortcodes[t].controller=e)}on(t,e){C.b.$$events[t]=C.b.$$events[t]||[],C.b.$$events[t].push(e)}addfilter(t,e){C.b.$$filters[t]=C.b.$$filters[t]||[],C.b.$$filters[t].push(e)}addAction(t){C.b.actions.push(t)}},s=angular.module("uxBuilder",[]);e.a=s,s.config(n),s.run(A.a),s.run(o),s.factory("presetCache",["$cacheFactory",t=>t()])},function(t,e,g){"use strict";g.d(e,"b",(function(){return n})),g.d(e,"a",(function(){return A})),A.$inject=["$parse"];const n=(window.parent||window).uxBuilderData;function A(t){return n.$set=function(e,g){return t(o(e)).assign(n,g)},n.$get=function(e,g){var A=t(o(e))(n);return!angular.isDefined(A)&&g?n.$set(e,g):A},n.$unset=function(e){var g;return e.indexOf("*")?(g=e.split("*")[0],t(o(g)).assign(n,null)):t(o(e)).assign(n,null)},n.$disable=function(){n.enabled=!1},n.$enable=function(){n.enabled=!0},n.$addAction=function(t,e){if(!n.enabled)return;n.history.splice(0,n.history.length-49),n.currentAction<n.history.length-1&&n.history.splice(n.currentAction+1,n.history.length);const g=n.history.slice().pop();g&&g.payload.key===e.key?!1!==e.override&&(g.payload=e):n.currentAction=n.history.push({type:t,payload:e})-1},n.$resetToAction=function(t){n.history.splice(t+1,n.history.length),n.currentAction=Math.min(t,n.currentAction)},n}function o(t){var e=[],g=t.split(".");return _.each(g,(function(t){e.push(jQuery.camelCase(t.replace(/:/g,"-")))})),e.join(".")}},function(t,e){var g;g=function(){return this}();try{g=g||new Function("return this")()}catch(t){"object"==typeof window&&(g=window)}t.exports=g},function(t,e,g){"use strict";(function(t){function n(t){let e=t.ancestorsAndSelf;for(let t=0;t<e.length;t++)if(e[t].data.resize)return e[t];return null}function A(t,e,g){angular.isDefined(t.$scope.$customCtrl)&&angular.isFunction(t.$scope.$customCtrl[e])&&t.$scope.$customCtrl[e](g)}function o(e){let g=t.HammerJS.DIRECTION_ALL;switch(e){case"top":g=t.HammerJS.DIRECTION_VERTICAL;break;case"right":g=t.HammerJS.DIRECTION_HORIZONTAL;break;case"bottom":g=t.HammerJS.DIRECTION_VERTICAL;break;case"left":g=t.HammerJS.DIRECTION_HORIZONTAL}return g}function C(t,e){for(let g in t)if(t[g].$element.get(0)===e)return g;return null}g.d(e,"c",(function(){return n})),g.d(e,"d",(function(){return A})),g.d(e,"b",(function(){return o})),g.d(e,"a",(function(){return C}))}).call(this,g(2))},,function(t,e,g){"use strict";g.d(e,"b",(function(){return A})),g.d(e,"a",(function(){return o})),g.d(e,"c",(function(){return C}));var n=function(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1};function A(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:500,g=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,A=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,I=arguments.length>4&&void 0!==arguments[4]?arguments[4]:document,s=o(I).top,i=t-s,r=s+i*A,a=t-r,l=0,c=20,d=0,u=function(){l+=c,d=l/e,C(r+a*n(d),I),l<e?window.requestAnimationFrame(u):g&&"function"==typeof g&&g()};u()}function o(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:document,e=t.documentElement,g=(t.defaultView.pageYOffset||e.scrollTop)-(e.clientTop||0),n=(t.defaultView.pageXOffset||e.scrollLeft)-(e.clientLeft||0);return{top:g,left:n}}function C(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:document;e.documentElement.scrollTop=t,e.body.parentNode.scrollTop=t,e.body.scrollTop=t}},function(t,e,g){"use strict";g.d(e,"a",(function(){return n}));const n=(window.frameElement?window.parent:window).uxBuilderData},function(t,e,g){"use strict";g.d(e,"a",(function(){return A}));var n=g(12);function A(){return t=>(t=t.replace(/<p>\s*<\/p>/g,"<p>&nbsp;</p>"),(t=Object(n.autop)(t)).replace(/<p>&nbsp;<\/p>/g,"<p>Â </p>"))}},function(t,e,g){"use strict";g.r(e),e.default='<div class="uxb-move">\n  <div class="uxb-move-handle"\n    ng-if="$ctrl.shortcode"\n    ng-class="$ctrl.classNames($ctrl.shortcode)"\n    draggable-shortcode="$ctrl.shortcode">\n    <span class="uxb-move-icon dashicons dashicons-move"></span>\n  </div>\n</div>\n'},function(t,e,g){"use strict";g.r(e),e.default='<div class="uxb-resize uxb-resize-top"></div>\n<div class="uxb-resize uxb-resize-right"></div>\n<div class="uxb-resize uxb-resize-bottom"></div>\n<div class="uxb-resize uxb-resize-left"></div>\n'},function(t,e,g){"use strict";g.r(e),e.default='<div class="context-menu-menu" ng-click="$ctrl.hide()">\n  <shortcode-actions shortcode="$ctrl.shortcode"></shortcode-actions>\n</div>\n'},function(t,e,g){"use strict";(function(t){g.d(e,"a",(function(){return A})),A.$inject=["$rootScope","$window","AppEvent"];var n=null;function A(t,e,g){var n=!0;t.$watch(()=>{n&&e.postCustomMessage(g.APPLY)}),e.addEventListener(g.APPLY,()=>{n=!1,null===t.$$phase&&t.$apply(),n=!0},!1),e.addEventListener(g.BROADCAST,e=>{t.$broadcast(e.data.type,e.data.data)},!1),e.addEventListener(g.EMIT,e=>{t.$emit(e.data.type,e.data.data)},!1)}t.postCustomMessage=function(t,e,g){n=n||(self===top?document.querySelectorAll(".iframe-frame")[0].contentWindow:window.parent),(g=new CustomEvent(t)).data=e,n.dispatchEvent(g)}}).call(this,g(2))},function(t,e){t.exports=window.wp.autop},function(t,e,g){"use strict";(function(t){g.d(e,"a",(function(){return n}));class n{constructor(e,g,n,A,o,C,I,s,i,r){var a={},l=(window.parent||window).angular.element("draggable-helper");return function(c,d,u){var p=this;u=angular.extend({cssProps:{},droppable:!0,broadcast:!0,start:angular.noop,move:angular.noop,end:angular.noop},u);var h=d||c.$element.get(0),m=new t.HammerJS(h,u);return m.get("pan").set({direction:t.HammerJS.DIRECTION_ALL,threshold:1}),angular.element(h).data("shortcode",c),angular.element(h).addClass("uxb-draggable"),m.on("hammer.input",(function(t){t.srcEvent.stopPropagation(),t.srcEvent.stopImmediatePropagation()})),m.on("panstart",f),m.on("pan",(function(t){if(a.shortcode||f(t),b(t),a.defaultPrevented||(l.addClass("active"),l.css({transform:"translate3d(".concat(a.global.x,"px, ").concat(a.global.y,"px, 0px)")}),l.find("h3 span").css({transform:"rotate(".concat(-25*a.originalEvent.velocityY,"deg)")})),a.target=null,a.addToShortcode=null,c.$recompile)return m.stop(!0),v(t);if(n.find(a.global.x,a.global.y).map((function(t){!a.target&&t.target&&t.target.allows(c)&&(a.target=t)})),a.target){let e=a.target.target===c.parent,g=e&&a.target.index===c.index,n=e&&a.target.index===c.index+1,A=t.srcEvent.altKey;!g&&!n||A||(a.target=null)}u.move(t),e("tools").showAddableSpot(a.target,t.srcEvent.altKey),e.outlineShortcode(a.target?a.target.target.parent:null),e.broadcast(r.PAN_MOVE,a),u.broadcast&&e.broadcast(r.MOVE,a),e("tools").apply(),c.$scope.$digest()})),m.on("panend",v),m;function f(t){l.find("h3 span").text(c.data.name),o.onkeydown=t=>e("tools").toggleAddableButton(t.altKey),o.onkeyup=t=>e("tools").toggleAddableButton(t.altKey),a.shortcode=c,a.iframeRect=s().get(0).getBoundingClientRect(),a.container=c.parent.$element,a.isSelected=e.states.selectedShortcode===c,a.defaultPrevented=!1,a.showHelper=!0,a.constrains=!1,a.initial={},b(t),a.initial={},a.initial.innerX=a.innerX,a.initial.innerY=a.innerY,a.initial.elementX=a.elementX,a.initial.elementY=a.elementY,c.$element.addClass("uxb-shortcode-dragging"),angular.element(C.parent.document.body).addClass("dragging"),angular.element("body").addClass("dragging"),u.start(t),c.states.dragging=!0,g.isDragging=!0,e.broadcast(r.PAN_START,a),u.broadcast&&e.broadcast(r.START,a),e("tools").apply(),c.$scope.$digest()}function v(t){if(b(t),l.find("h3 span").removeAttr("style"),l.removeClass("active"),c.states.dragging=!1,a.target&&!a.defaultPrevented){let e=t.srcEvent.altKey,g=a.target.target,n=a.target.index;a.addedShortode=e?g.addChild(c.copy(),n):A.move(c,g,n)}c.$element.removeClass("uxb-shortcode-dragging"),angular.element(C.parent.document.body).removeClass("dragging"),angular.element("body").removeClass("dragging"),u.end(t),e.broadcast(r.PAN_END,a),u.broadcast&&e.broadcast(r.END,a),o.onkeydown=null,o.onkeyup=null,a={},I(()=>g.isDragging=!1,0)}function b(t){a.originalEvent=t,a.global=i.getGlobalCoordinates(t.target.ownerDocument.defaultView,t.center.x,t.center.y),a.element=angular.element(h),a.draggable=p,a.main={},a.main.x=a.global.x,a.main.y=a.global.y,a.iframe={},a.iframe.x=a.global.x-a.iframeRect.left,a.iframe.y=a.global.y-a.iframeRect.top,a.virtual={},a.virtual.width=a.shortcode.$element.width(),a.virtual.height=a.shortcode.$element.height(),a.virtual.top=a.iframe.y-a.initial.elementY,a.virtual.right=a.iframe.x+a.virtual.width-a.initial.elementX,a.virtual.bottom=a.iframe.y+a.virtual.height-a.initial.elementY,a.virtual.left=a.iframe.x-a.initial.elementX,a.constrains&&(a.constrains=a.container.outerOffset(),a.innerX=a.iframe.x-a.constrains.left-a.initial.elementX,a.innerY=a.iframe.y-a.constrains.top-a.initial.elementY,a.virtual.top<a.constrains.top&&(a.innerY=0),a.virtual.right>a.constrains.right&&(a.innerX=a.constrains.width-a.virtual.width),a.virtual.bottom>a.constrains.bottom&&(a.innerY=a.constrains.height-a.virtual.height),a.virtual.left<a.constrains.left&&(a.innerX=0)),a.elementX=a.iframe.x-c.$element.offset().left,a.elementY=a.iframe.y-c.$element.offset().top+s().contents().scrollTop(),a.preventDefault=function(){a.defaultPrevented=!0},a.setContainment=function(t){a.constrains=t.outerOffset(),a.container=t}}}}}n.$inject=["app","store","targets","Shortcode","$document","$window","$timeout","$iframe","utils","DragEvent"]}).call(this,g(2))},function(t,e,g){"use strict";(function(t){g.d(e,"a",(function(){return n}));class n{constructor(){return function(e,g,n){return n?t.propagatingHammer(new t.HammerJS(e,g)):new t.HammerJS(e,g)}}}n.$inject=[]}).call(this,g(2))},function(t,e,g){"use strict";(function(e){var n=g(36),A=g(37),o=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,C=/[\n\r\t]/g,I=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,s=/:\d+$/,i=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,r=/^[a-zA-Z]:/;function a(t){return(t||"").toString().replace(o,"")}var l=[["#","hash"],["?","query"],function(t,e){return u(e.protocol)?t.replace(/\\/g,"/"):t},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],c={hash:1,query:1};function d(t){var g,n=("undefined"!=typeof window?window:void 0!==e?e:"undefined"!=typeof self?self:{}).location||{},A={},o=typeof(t=t||n);if("blob:"===t.protocol)A=new h(unescape(t.pathname),{});else if("string"===o)for(g in A=new h(t,{}),c)delete A[g];else if("object"===o){for(g in t)g in c||(A[g]=t[g]);void 0===A.slashes&&(A.slashes=I.test(t.href))}return A}function u(t){return"file:"===t||"ftp:"===t||"http:"===t||"https:"===t||"ws:"===t||"wss:"===t}function p(t,e){t=(t=a(t)).replace(C,""),e=e||{};var g,n=i.exec(t),A=n[1]?n[1].toLowerCase():"",o=!!n[2],I=!!n[3],s=0;return o?I?(g=n[2]+n[3]+n[4],s=n[2].length+n[3].length):(g=n[2]+n[4],s=n[2].length):I?(g=n[3]+n[4],s=n[3].length):g=n[4],"file:"===A?s>=2&&(g=g.slice(2)):u(A)?g=n[4]:A?o&&(g=g.slice(2)):s>=2&&u(e.protocol)&&(g=n[4]),{protocol:A,slashes:o||u(A),slashesCount:s,rest:g}}function h(t,e,g){if(t=(t=a(t)).replace(C,""),!(this instanceof h))return new h(t,e,g);var o,I,s,i,c,m,f=l.slice(),v=typeof e,b=this,$=0;for("object"!==v&&"string"!==v&&(g=e,e=null),g&&"function"!=typeof g&&(g=A.parse),o=!(I=p(t||"",e=d(e))).protocol&&!I.slashes,b.slashes=I.slashes||o&&e.slashes,b.protocol=I.protocol||e.protocol||"",t=I.rest,("file:"===I.protocol&&(2!==I.slashesCount||r.test(t))||!I.slashes&&(I.protocol||I.slashesCount<2||!u(b.protocol)))&&(f[3]=[/(.*)/,"pathname"]);$<f.length;$++)"function"!=typeof(i=f[$])?(s=i[0],m=i[1],s!=s?b[m]=t:"string"==typeof s?~(c="@"===s?t.lastIndexOf(s):t.indexOf(s))&&("number"==typeof i[2]?(b[m]=t.slice(0,c),t=t.slice(c+i[2])):(b[m]=t.slice(c),t=t.slice(0,c))):(c=s.exec(t))&&(b[m]=c[1],t=t.slice(0,c.index)),b[m]=b[m]||o&&i[3]&&e[m]||"",i[4]&&(b[m]=b[m].toLowerCase())):t=i(t,b);g&&(b.query=g(b.query)),o&&e.slashes&&"/"!==b.pathname.charAt(0)&&(""!==b.pathname||""!==e.pathname)&&(b.pathname=function(t,e){if(""===t)return e;for(var g=(e||"/").split("/").slice(0,-1).concat(t.split("/")),n=g.length,A=g[n-1],o=!1,C=0;n--;)"."===g[n]?g.splice(n,1):".."===g[n]?(g.splice(n,1),C++):C&&(0===n&&(o=!0),g.splice(n,1),C--);return o&&g.unshift(""),"."!==A&&".."!==A||g.push(""),g.join("/")}(b.pathname,e.pathname)),"/"!==b.pathname.charAt(0)&&u(b.protocol)&&(b.pathname="/"+b.pathname),n(b.port,b.protocol)||(b.host=b.hostname,b.port=""),b.username=b.password="",b.auth&&(~(c=b.auth.indexOf(":"))?(b.username=b.auth.slice(0,c),b.username=encodeURIComponent(decodeURIComponent(b.username)),b.password=b.auth.slice(c+1),b.password=encodeURIComponent(decodeURIComponent(b.password))):b.username=encodeURIComponent(decodeURIComponent(b.auth)),b.auth=b.password?b.username+":"+b.password:b.username),b.origin="file:"!==b.protocol&&u(b.protocol)&&b.host?b.protocol+"//"+b.host:"null",b.href=b.toString()}h.prototype={set:function(t,e,g){var o=this;switch(t){case"query":"string"==typeof e&&e.length&&(e=(g||A.parse)(e)),o[t]=e;break;case"port":o[t]=e,n(e,o.protocol)?e&&(o.host=o.hostname+":"+e):(o.host=o.hostname,o[t]="");break;case"hostname":o[t]=e,o.port&&(e+=":"+o.port),o.host=e;break;case"host":o[t]=e,s.test(e)?(e=e.split(":"),o.port=e.pop(),o.hostname=e.join(":")):(o.hostname=e,o.port="");break;case"protocol":o.protocol=e.toLowerCase(),o.slashes=!g;break;case"pathname":case"hash":if(e){var C="pathname"===t?"/":"#";o[t]=e.charAt(0)!==C?C+e:e}else o[t]=e;break;case"username":case"password":o[t]=encodeURIComponent(e);break;case"auth":var I=e.indexOf(":");~I?(o.username=e.slice(0,I),o.username=encodeURIComponent(decodeURIComponent(o.username)),o.password=e.slice(I+1),o.password=encodeURIComponent(decodeURIComponent(o.password))):o.username=encodeURIComponent(decodeURIComponent(e))}for(var i=0;i<l.length;i++){var r=l[i];r[4]&&(o[r[1]]=o[r[1]].toLowerCase())}return o.auth=o.password?o.username+":"+o.password:o.username,o.origin="file:"!==o.protocol&&u(o.protocol)&&o.host?o.protocol+"//"+o.host:"null",o.href=o.toString(),o},toString:function(t){t&&"function"==typeof t||(t=A.stringify);var e,g=this,n=g.host,o=g.protocol;o&&":"!==o.charAt(o.length-1)&&(o+=":");var C=o+(g.protocol&&g.slashes||u(g.protocol)?"//":"");return g.username?(C+=g.username,g.password&&(C+=":"+g.password),C+="@"):g.password?(C+=":"+g.password,C+="@"):"file:"!==g.protocol&&u(g.protocol)&&!n&&"/"!==g.pathname&&(C+="@"),(":"===n[n.length-1]||s.test(g.hostname)&&!g.port)&&(n+=":"),C+=n+g.pathname,(e="object"==typeof g.query?t(g.query):g.query)&&(C+="?"!==e.charAt(0)?"?"+e:e),g.hash&&(C+=g.hash),C}},h.extractProtocol=p,h.location=d,h.trimLeft=a,h.qs=A,t.exports=h}).call(this,g(2))},,function(t,e,g){"use strict";g.r(e),e.default='<p ng-if="$ctrl.errorMessage" class="error error-message">\n  {{ $ctrl.errorMessage }}\n</p>\n\n<div class="add-shortcode-selector">\n  <div class="add-shortcode-header">\n    <h2 class="title">Add Content</h2>\n    <nav class="add-shortcode-types">\n      <button type="button"\n        ng-click="$ctrl.showType(\'shortcodes\')"\n        ng-class="{ active: $ctrl.type === \'shortcodes\' }">\n        Elements\n      </button>\n      <button type="button"\n        ng-if="$ctrl.shortcode.isRoot"\n        ng-click="$ctrl.showType(\'import\')"\n        ng-class="{ active: $ctrl.type === \'import\' }">\n        Import\n      </button>\n    </nav>\n  </div>\n\n  <div class="add-shortcode-items" ng-if="$ctrl.type === \'shortcodes\'">\n\n    <div class="flatsome-studio-button" ng-if="$ctrl.flatsomeStudioIsActive">\n      <button type="button" class="wp-style alt button-large button-block"\n        ng-click="$ctrl.showFlatsomeStudio()">\n        <span class="dashicons dashicons-screenoptions"></span> Flatsome Studio\n      </button>\n      <hr />\n    </div>\n\n    <input class="filter-elements" type="text" placeholder="Search&hellip;" ng-model="$ctrl.filter.name">\n\n    <div class="add-shortcode-category"\n      ng-repeat="category in $ctrl.items"\n      ng-show="items.length">\n      <h3>{{:: category.name }}</h3>\n      <ul>\n        <li class="add-shortcode-box" ng-repeat="item in items = (category.items | filter: $ctrl.filter)">\n          <button class="add-shortcode-box-button" type="button" ng-class="{ \'is-loading\': $ctrl.isLoading === item.tag }" ng-click="$ctrl.add(item, 0)">\n            <img ng-if="item.thumbnail" ng-src="{{:: item.thumbnail }}" alt="{{:: item.name }}"/>\n            <div ng-if="$ctrl.isLoading === item.tag" class="add-shortcode-loading-spinner loading-spinner is-visible"></div>\n            <span class="title">{{:: item.name }}</span>\n          </button>\n        </li>\n      </ul>\n    </div>\n  </div>\n</div>\n\n<template-importer ng-if="$ctrl.type === \'import\'"></template-importer>\n\n<div class="add-shortcode-presets">\n  <h3>Presets</h3>\n  <ul ng-if="$ctrl.presets">\n    <li class="add-shortcode-box" ng-repeat="preset in $ctrl.presets">\n      <button type="button" class="add-shortcode-box-button"\n        title="{{:: preset.name }}"\n        ng-class="{ \'with-thumbnail\' : !!preset.thumbnail, \'active\' : $ctrl.currentPreset === $index }"\n        ng-click="$ctrl.usePreset(preset.content); $ctrl.currentPreset = $index">\n        <div ng-if="preset.custom" class="add-shortcode-icon">\n          <svg width="36" height="36" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M7.73009 2.41274L8.95709 3.63719L3.40181 9.18095L2.17482 7.95652L7.73009 2.41274ZM7.73009 0.242432L0 7.95652L3.40181 11.3513L11.1319 3.63719L7.73009 0.242432Z" fill="#007CBA"/> <path d="M7.8196 11.3114L8.95987 12.4493L7.8196 13.5873L6.67928 12.4493L7.8196 11.3114ZM7.8196 9.14111L4.50439 12.4492L7.8196 15.7575L11.1348 12.4492L7.8196 9.14087V9.14111Z" fill="#007CBA"/> <path d="M12.2322 6.90786L13.3725 8.0458L12.2322 9.18369L11.0921 8.04584L12.2323 6.90795L12.2322 6.90786ZM12.2323 4.73763L8.91699 8.04584L12.2322 11.3542L15.5474 8.04584L12.2322 4.73755L12.2323 4.73763Z" fill="#007CBA" fill-opacity="0.6"/> </svg>\n        </div>\n        <img ng-if="!preset.custom && preset.thumbnail" ng-src="{{:: preset.thumbnail }}" alt="{{:: preset.name }}">\n        <span class="title">{{:: preset.name }}</span>\n      </button>\n      <div ng-if="preset.custom === true" class="add-shortcode-actions">\n        <button class="blank" ng-click="$ctrl.templates.updatePreset(preset)">\n          <span class="dashicons dashicons-edit"></span>\n        </button>\n        <button class="blank" ng-click="$ctrl.removePreset(preset)">\n          <span class="dashicons dashicons-trash"></span>\n        </button>\n      </div>\n    </li>\n  </ul>\n  <button\n    type="button"\n    class="wp-style alt button-large button-block"\n    ng-click="$ctrl.stack.close()"\n    ng-if="$ctrl.presets">\n    Apply\n  </button>\n</div>\n'},function(t,e,g){"use strict";g.r(e),e.default='<button\n  title="Undo"\n  type="button"\n  class="blank has-tooltip"\n  ng-click="$ctrl.undo()"\n  ng-disabled="$ctrl.canUndo() === false">\n  <span class="dashicons dashicons-undo"></span>\n  <div class="uxb-tooltip">Undo</div>\n</button>\n\n<button\n  title="Redo"\n  type="button"\n  class="blank has-tooltip"\n  ng-click="$ctrl.redo()"\n  ng-disabled="$ctrl.canRedo() === false">\n  <span class="dashicons dashicons-redo"></span>\n  <div class="uxb-tooltip">Redo</div>\n</button>\n\n<hr/>\n\n<button type="button"\n    class="blank has-tooltip"\n    title="{{:: breakpoint.title }}"\n    ng-click="$ctrl.setBreakpoint($index)"\n    ng-class="{ \'active\' : $ctrl.isActiveBreakpont($index) }"\n    ng-repeat="(name, breakpoint) in $ctrl.breakpoints.all track by breakpoint.width">\n    <span class="{{:: breakpoint.icon }}"></span>\n    <div class="uxb-tooltip">{{:: breakpoint.title }}</div>\n    <div class="has-breakpoint-values" ng-if="$ctrl.hasBreakpointValues($index)"></div>\n</button>\n\n<hr/>\n\n<button type="button"\n    class="blank has-tooltip"\n    title="{{:: action.tooltip }}"\n    ng-click="$ctrl.doAction(action)"\n    ng-repeat="action in $ctrl.actions">\n    <span class="{{:: action.icon }}"></span>\n    <div class="uxb-tooltip">{{:: action.tooltip }}</div>\n</button>\n'},function(t,e,g){"use strict";g.r(e),e.default='<app-sidebar-main class="animate-{{ $ctrl.routeAnimation }}">\n\n  <div class="app-sidebar-top title-row">\n  \t<div class="title-row-icon">\n\t  \t<button type="button"\n        title="Exit Builder"\n        class="blank" ng-click="$ctrl.app.exit()"\n        ng-disabled="$ctrl.permissions.exit === false">\n\t   \t \t<span class="dashicons dashicons-no-alt"></span>\n\t\t  </button>\n  \t</div>\n  \t<div class="title-row-title">\n      {{ $ctrl.store.post.attributes.values.post_title }}\n    </div>\n  \t<div class="title-row-actions">\n  \t\t<button type="button" class="blank" ng-click="$ctrl.app.goto(\'/settings\')">\n\t      <span class="dashicons dashicons-admin-generic"></span>\n\t    </button>\n  \t</div>\n  </div>\n\n  <div class="app-sidebar-view">\n    <home-view ng-if="$ctrl.viewName === \'home\'"></home-view>\n    <settings-view ng-if="$ctrl.viewName === \'settings\'"></settings-view>\n    <shortcode-view ng-if="$ctrl.viewName === \'shortcode\'" shortcode="$ctrl.viewProps.shortcode"></shortcode-view>\n  </div>\n\n  <div class="app-sidebar-footer">\n    <button type="button" class="blank app-sidebar-toggle" ng-click="$ctrl.toggle()">\n      <span class="dashicons dashicons-arrow-left-alt2"\n        ng-if="$ctrl.store.showSidebar === true"\n      ></span>\n      <span class="dashicons dashicons-arrow-right-alt2"\n        ng-if="$ctrl.store.showSidebar === false"\n      ></span>\n    </button>\n  </div>\n\n</app-sidebar-main>\n'},function(t,e,g){"use strict";g.r(e),e.default='<app-outline-tool class="auto-size" shortcode="$ctrl.outlined"></app-outline-tool>\n<app-resize-tool class="auto-size" shortcode="$ctrl.outlined"></app-resize-tool>\n<app-move-tool class="auto-size" shortcode="$ctrl.outlined"></app-move-tool>\n<app-select-tool class="auto-size" shortcode="$ctrl.selected"></app-select-tool>\n<add-buttons></add-buttons>\n\n<div class="tools-addable">\n  <div class="line"></div>\n  <add-button\n    class="button"\n    index="$ctrl.index"\n    shortcode="$ctrl.addable">\n  </add-button>\n</div>\n'},function(t,e,g){"use strict";g.r(e),e.default='<div class="hierarchy-title" ng-class="{ \'active\' : $ctrl.isActive(), [\'open\'] : $ctrl.shortcode.states.open, [\'visibility-\'+$ctrl.shortcode.options.visibility] : $ctrl.shortcode.options.visibility }">\n\n    <button type="button" class="hierarchy-toggle"\n        ng-if="$ctrl.shortcode.children"\n        ng-click="$ctrl.toggleChildren()">\n    </button>\n\n    <div class="hierarchy-name"\n        ng-click="$ctrl.selectShortcode()"\n        ng-mouseover="$ctrl.outlineShortcode()"\n        ng-dblclick="$ctrl.configureShortcode()">\n\n        {{:: $ctrl.shortcode.data.name }}\n\n        <span class="hierarchy-info" ng-bind="$ctrl.getShortcodeInfo()"></span>\n    </div>\n\n    <div class="hierarchy-tools">\n      <button type="button blank" ng-click="$ctrl.showContextMenu($event)">\n        <span class="dashicons dashicons-admin-generic"></span>\n      </button>\n    </div>\n</div>\n\n<shortcode-hierarchy-list\n  ng-if="$ctrl.shortcode.states.open"\n  ng-class="{ \'open\': $ctrl.shortcode.states.open }"\n  shortcode="$ctrl.shortcode">\n</shortcode-hierarchy-list>\n'},function(t,e,g){"use strict";g.r(e),e.default='<app-sidebar-view class="home-view">\n\n  <view-header>\n\n  </view-header>\n\n  <view-body ng-if="$ctrl.store.postContent">\n    <shortcode-hierarchy-list shortcode="$ctrl.store.postContent"></shortcode-hierarchy-list>\n  </view-body>\n\n  <view-footer>\n    <button id="app-draft-button" type="button"\n      class="wp-style button-large button-block"\n      ng-if="$ctrl.store.post.status === \'draft\' || $ctrl.store.post.status === \'auto-draft\'"\n      ng-class="{ \'loading\': $ctrl.store.isSaving === \'draft\' }"\n      ng-disabled="$ctrl.permissions.save === false"\n      ng-click="$ctrl.save(\'draft\')">\n      Save Draft\n    </button>\n    <button id="app-private-button" type="button"\n      class="wp-style button-large button-block"\n      ng-if="$ctrl.store.post.status === \'private\'"\n      ng-class="{ \'loading\': $ctrl.store.isSaving === \'private\' }"\n      ng-disabled="$ctrl.permissions.save === false"\n      ng-click="$ctrl.save(\'private\')">\n      Save Private\n    </button>\n    <button id="app-save-button" type="button"\n      class="wp-style alt button-large button-block"\n      ng-class="{ \'loading\': $ctrl.store.isSaving && $ctrl.store.isSaving !== \'draft\' && $ctrl.store.isSaving !== \'private\'}"\n      ng-disabled="$ctrl.permissions.save === false"\n      ng-click="$ctrl.save()">\n      {{ $ctrl.saveButtonText }}\n    </button>\n    <button id="app-save-button" type="button"\n      class="wp-style button-large button-block button-exit animate-fade-in-right"\n      ng-if="$ctrl.store.isSaved"\n      ng-click="$ctrl.app.exit()">\n      &times;\n    </button>\n  </view-footer>\n\n</app-sidebar-view>\n'},function(t,e,g){"use strict";g.r(e),e.default='<app-sidebar-view class="settings-view">\n\n  <view-header>\n    <div class="title-row">\n      <div class="title-row-icon">\n          <button class="button-reset view-header-title" type="button" ng-click="$ctrl.   exit()">\n               <span class="dashicons dashicons-arrow-left-alt2"></span>\n          </button>\n      </div>\n      <div class="title-row-title"> Post settings </div>\n    </div>\n  </view-header>\n\n  <view-body>\n    <ux-options\n      options="$ctrl.post.attributes.options.tree"\n      model="$ctrl.post.attributes.values">\n    </ux-options>\n    <ux-options\n      options="$ctrl.post.meta.options.tree"\n      model="$ctrl.post.meta.values">\n    </ux-options>\n    <div class="box">\n      <h3 class="box-title">Actions</h3>\n      <div class="box-content">\n        <button class="wp-style button-block" ng-click="$ctrl.saveAsTemplate()">Save as template&hellip;</button>\n        <div style="padding: 5px 0;" />\n        <button class="wp-style danger button-block" ng-click="$ctrl.clearContent()">Clear content&hellip;</button>\n      </div>\n    </div>\n  </view-body>\n\n  <view-footer>\n    <button type="button" class="wp-style blank" ng-click="$ctrl.discard()">\n      <span class="dashicons dashicons-no-alt"></span>Discard\n    </button>\n    <button type="button" class="wp-style" ng-click="$ctrl.exit()">\n      <span class="dashicons dashicons-yes"></span>Apply\n    </button>\n  </view-footer>\n\n</app-sidebar-view>\n'},function(t,e,g){"use strict";g.r(e),e.default='<app-sidebar-view class="shortcode-view">\n\n  <view-header>\n    <div class="title-row">\n      <div class="title-row-icon">\n         <button class="button-reset view-header-title" type="button" ng-click="$ctrl.exit(\'/\')">\n             <span class="dashicons dashicons-arrow-left-alt2"></span>\n         </button>\n      </div>\n      <div class="title-row-title"> {{ $ctrl.shortcode.data.name }} </div>\n      <div class="title-row-actions"></div>\n    </div>\n  </view-header>\n\n  <view-body>\n    <ux-options\n      options="$ctrl.options"\n      shortcode="$ctrl.shortcode"\n      responsive="$ctrl.responsiveValues"\n      model="$ctrl.shortcode.options">\n    </ux-options>\n  </view-body>\n\n  <view-footer>\n    <button type="button" class="wp-style outline" ng-click="$ctrl.discard()">\n      Discard\n    </button>\n    <button type="button" class="wp-style" ng-click="$ctrl.exit()">\n      Apply\n    </button>\n  </view-footer>\n\n</app-sidebar-view>\n'},function(t,e,g){g.p=window.flatsomeVars?window.flatsomeVars.assets_url:"/"},function(t,e,g){"use strict";g(27),g(28)},function(t,e,g){(function(t){t.UX_EMPTY_VALUE="<none>"}).call(this,g(2))},function(t,e,g){(function(t){!function(){"use strict";t.isIframe=function(){return!!window.frameElement},t.camelCase=function(t,e){return t=e?t.charAt(0).toUpperCase()+t.slice(1):t,jQuery.camelCase(t.replace(/\_|\:/g,"-",!0))},t.snakeCase=function(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"_";return t.replace(/[A-Z]/g,(t,g)=>(g?e:"")+t.toLowerCase())},t.capitalize=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},t.round=function(t,e){return Math.round(t/e)*e}}()}).call(this,g(2))},function(t,e,g){"use strict";var n=g(0);n.a.constant("Event",{READY:"ready",CHANGE:"change",COMPLETE:"complete",ERROR:"error",SCROLL:"scroll",RESIZE:"resize"}),n.a.constant("AppEvent",{READY:"app-ready",APPLY:"app-apply",EMIT:"app-emit",BROADCAST:"app-broadcast"}),n.a.constant("IframeEvent",{READY:"iframe-ready",RELOAD:"iframe-reload",RESIZE:"iframe-resize",CHANGED:"iframe-changed",SCROLL:"iframe-scroll"}),n.a.constant("MouseEvent",{}),n.a.constant("TouchEvent",{}),n.a.constant("ShortcodeEvent",{CREATE:"shortcode-create",CREATED:"shortcode-created",ATTACHED:"shortcode-attached",CONFIGURE:"shortcode-configure",RECOMPILED:"shortcode-recompiled",ACTIVE:"shortcode-active",INACTIVE:"shortcode-inactive",CHANGED:"shortcode-changed",ADDED:"shortcode-added",MOVED:"shortcode-moved",DETACHED:"shortcode-detached",REMOVED:"shortcode-removed",MOUSEOVER:"shortocde-mouseover",MOUSEOUT:"shortocde-mouseout",CLICK:"shortcode-click",OUTLINED:"shortcode-outlined",SELECTED:"shortcode-selected",DUPLICATED:"shortcode-duplicated",DELETED:"shortcode-deleted"}),n.a.constant("ChildEvent",{ADDED:"child-added",REMOVED:"child-removed"}),n.a.constant("OptionsEvent",{SHOW:"options-show",CLEAR:"options-clear",HIDE:"options-hide"}),n.a.constant("MediaEvent",{CHANGED:"media-changed"}),n.a.constant("DragEvent",{PAN_START:"draggable-pan-start",PAN_MOVE:"draggable-pan-move",PAN_END:"draggable-pan-end",START:"draggable-start",MOVE:"draggable-move",END:"draggable-end"})},function(t,e,g){"use strict";g(31),g(32),g(33),g(34),g(35)},function(t,e,g){(function(t){t.jQuery.fn.cover=function(e){let g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!e)return this;let n=t.jQuery(e),A=n.get(0).ownerDocument,o=A.defaultView,C=n.outerOffset(g),I=!!this.get(0).ownerDocument.defaultView.frameElement,s=!!n.get(0).ownerDocument.defaultView.frameElement;if(!I&&s){let t=o.frameElement.getBoundingClientRect();C.left+=t.left,C.top+=t.top}return I&&s&&(C.top+=A.documentElement.scrollTop||A.body.scrollTop),this.css({width:C.width.toFixed(2),height:C.height.toFixed(2),transform:"translateX(".concat(C.left.toFixed(),"px) translateY(").concat(C.top.toFixed(),"px)")})}}).call(this,g(2))},function(t,e,g){(function(t){t.jQuery.fn.isVisible=function(){return t=[this.get(0)],e=!0,t.map((function(t){var g=window.getComputedStyle(t);"none"===g.display&&(e=!1),"hidden"===g.visibility&&(e=!1),"0.0"===g.opacity&&(e=!1)})),e;var t,e}}).call(this,g(2))},function(t,e,g){(function(t){t.jQuery.fn.outerOffset=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var g={width:0,height:0};return this.each((n,A)=>{var o=t.jQuery(A),C=A.getBoundingClientRect(),I=C.right-(g.left?g.left:C.left),s=C.bottom-(g.top?g.top:C.top),i=o.css("display").search("inline")>-1;e.includeMargins&&(i?I=o.outerWidth(!0):s=o.outerHeight(!0)),g.top=(C.top>g.top?g.top:C.top)+0,g.left=(C.left>g.left?g.left:C.left)+0,g.width=I>g.width?I:g.width,g.height=s>g.height?s:g.height}),g.right=g.left+g.width,g.bottom=g.top+g.height,g}}).call(this,g(2))},function(t,e,g){"use strict";(function(t){var e=g(5);t.jQuery.fn.scrollToElement=function(g){let n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:450,A=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;const C=t.jQuery(g),I=C.get(0).ownerDocument,s=I.defaultView;let i=s.innerHeight,r=I.body.getBoundingClientRect(),a=C.get(0).getBoundingClientRect(),l=a.top-r.top+a.height/2+A;a.height<i?l-=i/2:a.height>i&&(l=a.top-r.top),Object(e.b)(l,n,o,A,I)}}).call(this,g(2))},function(t,e,g){(function(t){t.jQuery.fn.shortcode=function(){var e=this.parents(),g=null;return this.data("shortcode")?this.data("shortcode"):(e.each((function(e,n){t.jQuery(n).data("shortcode")&&!g&&(g=t.jQuery(n).data("shortcode"))})),g)}}).call(this,g(2))},function(t,e,g){"use strict";t.exports=function(t,e){if(e=e.split(":")[0],!(t=+t))return!1;switch(e){case"http":case"ws":return 80!==t;case"https":case"wss":return 443!==t;case"ftp":return 21!==t;case"gopher":return 70!==t;case"file":return!1}return 0!==t}},function(t,e,g){"use strict";var n=Object.prototype.hasOwnProperty;function A(t){try{return decodeURIComponent(t.replace(/\+/g," "))}catch(t){return null}}function o(t){try{return encodeURIComponent(t)}catch(t){return null}}e.stringify=function(t,e){e=e||"";var g,A,C=[];for(A in"string"!=typeof e&&(e="?"),t)if(n.call(t,A)){if((g=t[A])||null!=g&&!isNaN(g)||(g=""),A=o(A),g=o(g),null===A||null===g)continue;C.push(A+"="+g)}return C.length?e+C.join("&"):""},e.parse=function(t){for(var e,g=/([^=?#&]+)=?([^&]*)/g,n={};e=g.exec(t);){var o=A(e[1]),C=A(e[2]);null===o||null===C||o in n||(n[o]=C)}return n}},function(t,e,g){"use strict";var n=g(0);function A(t){const e=g(39);angular.forEach(e.keys(),(function(g){const n=e(g);t.put(g.replace("./",""),n.default||n)}))}A.$inject=["$templateCache"],n.a.run(A)},function(t,e,g){var n={"./components/add-shortcode/add-shortcode.html":17,"./components/app-actions/app-actions.html":18,"./components/app-sidebar/app-sidebar.html":19,"./components/app-tools/app-move-tool/app-move-tool.template.html":8,"./components/app-tools/app-resize-tool/app-resize-tool.template.html":9,"./components/app-tools/app-tools.html":20,"./components/context-menu/context-menu.template.html":10,"./components/shortcode-hierarchy-list-item/shortcode-hierarchy-list-item.html":21,"./components/ux-option/types/checkbox.html":40,"./components/ux-option/types/col-slider.html":41,"./components/ux-option/types/colorpicker.html":42,"./components/ux-option/types/gallery.html":43,"./components/ux-option/types/group.html":44,"./components/ux-option/types/image.html":45,"./components/ux-option/types/margins.html":46,"./components/ux-option/types/radio-buttons.html":47,"./components/ux-option/types/radio-images.html":48,"./components/ux-option/types/scrubfield.html":49,"./components/ux-option/types/select.html":50,"./components/ux-option/types/slider.html":51,"./components/ux-option/types/text-editor.html":52,"./components/ux-option/types/textarea.html":53,"./components/ux-option/types/textfield.html":54,"./components/ux-option/types/title.html":55,"./components/ux-option/types/urlfield.html":56,"./routes/home/home.html":22,"./routes/settings/settings.html":23,"./routes/shortcode/shortcode.html":24,"./shortcodes/_loading.html":57};function A(t){var e=o(t);return g(e)}function o(t){if(!g.o(n,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return n[t]}A.keys=function(){return Object.keys(n)},A.resolve=o,t.exports=A,A.id=39},function(t,e,g){"use strict";g.r(e),e.default='<label>\n  <input type="checkbox"\n    ng-model="$ctrl.model"\n    ng-true-value="\'true\'"\n    ng-false-value="\'0\'">\n  <span></span>\n</label>\n'},function(t,e,g){"use strict";g.r(e),e.default='<div class="col-slider-wrap col-slider-cols-{{ $ctrl.model }}">\n\n\t<table class="col-slider-table">\n\t\t<tbody>\n\t\t\t<tr>\n\t\t\t\t<td ng-repeat="n in _.range($ctrl.option.min, $ctrl.option.max + 1) track by $index">{{:: n }}</td>\n\t\t\t</tr>\n\t\t</tbody>\n\t</table>\n\n\t<input type="range"\n\t\tclass="col-slider-input"\n    min="{{:: $ctrl.option.min }}"\n    max="{{:: $ctrl.option.max }}"\n    ng-model="$ctrl.model">\n</div>\n'},function(t,e,g){"use strict";g.r(e),e.default='<ux-option-colorpicker\n  option="$ctrl.option"\n  model="$ctrl.model"\n></ux-option-colorpicker>\n\n<div ng-if="$ctrl.option.helpers" class="option-helpers option-helpers-colors">\n  <a href="javascript:"\n    title="Remove"\n    ng-click="$ctrl.model = null">\n    <span class="dashicons dashicons-no-alt"></span>\n  </a>\n  <a href="javascript:"\n    title="{{:: value.title }}"\n    style="background-color: {{:: value.value }}"\n    ng-repeat="(key, value) in $ctrl.option.helpers"\n    ng-click="$ctrl.model = value.value">\n  </a>\n</div>\n'},function(t,e,g){"use strict";g.r(e),e.default='<ux-option-gallery\n  option="$ctrl.option"\n  model="$ctrl.model"\n></ux-option-gallery>\n'},function(t,e,g){"use strict";g.r(e),e.default='<ux-option-group\n  option="$ctrl.option"\n  shortcode="$ctrl.shortcode"\n  responsive="$ctrl.$optionsCtrl.responsive"\n  model="$ctrl.$optionsCtrl.model"\n></ux-option-group>\n'},function(t,e,g){"use strict";g.r(e),e.default='<ux-option-image\n  option="$ctrl.option"\n  model="$ctrl.model"\n></ux-option-image>\n'},function(t,e,g){"use strict";g.r(e),e.default='<ux-option-margins\n  option="$ctrl.option"\n  model="$ctrl.model"\n></ux-option-margins>\n'},function(t,e,g){"use strict";g.r(e),e.default='<div class="option-button-group">\n\t<label ng-repeat="(value, data) in $ctrl.option.options"\n\t    ng-class="{ \'active\' : $ctrl.model === value }">\n\t    <input type="radio" value="{{:: value }}" ng-model="$ctrl.model"/>\n\t    <button type="button blank" title="{{:: data.title }}">\n\t    \t<span ng-if="data.icon" class="dashicons {{:: data.icon }}"></span>\n\t    \t<span ng-if="!data.icon"> {{:: data.title }}</span>\n\t    </button>\n\t</label>\n</div>\n'},function(t,e,g){"use strict";g.r(e),e.default='<label ng-repeat="(key, value) in $ctrl.option.options"\n    ng-class="{ \'active\' : $ctrl.model === key }">\n    <input type="radio" value="{{:: key }}" ng-model="$ctrl.model">\n    <img src="{{:: value.image }}" alt="{{:: value.title }}" title="{{:: value.title }}">\n</label>\n'},function(t,e,g){"use strict";g.r(e),e.default='<input type="text"\n  class="scrubfield"\n\tscrubfield="$ctrl.option"\n\tng-model="$ctrl.model"\n\tplaceholder="{{:: $ctrl.option.default }}"\n\tng-model-options="{\n        \'updateOn\': \'blur default\'\n    }">\n<div ng-if="$ctrl.option.helpers" class="option-helpers">\n\t<a \tng-repeat="(key, value) in $ctrl.option.helpers" href="javascript:"\n\t\tng-click="$ctrl.model = value.value">\n\t\t{{:: value.title }}\n\t</a>\n</div>\n'},function(t,e,g){"use strict";g.r(e),e.default='<ux-option-select\n  option="$ctrl.option"\n  value="$ctrl.model"\n></ux-option-select>\n'},function(t,e,g){"use strict";g.r(e),e.default='<div class="slider-wrap">\n\n  <input type="range"\n    ng-attr-min="{{:: $ctrl.option.min }}"\n    ng-attr-max="{{:: $ctrl.option.max }}"\n    ng-attr-step="{{:: $ctrl.option.step }}"\n    ng-attr-value="{{:: $ctrl.model }}"\n    ng-model="$ctrl.model"\n    ng-model-options="{ updateOn: \'input\' }"\n  >\n\n  <input type="number" to-number\n    ng-attr-min="{{:: $ctrl.option.min }}"\n    ng-attr-max="{{:: $ctrl.option.max }}"\n    ng-model="$ctrl.model">\n\n  <span class="slider-unit">{{:: $ctrl.option.unit }}</span>\n\n</div>\n'},function(t,e,g){"use strict";g.r(e),e.default='<ux-option-editor\n  option="$ctrl.option"\n  model="$ctrl.model"\n></ux-option-editor>\n'},function(t,e,g){"use strict";g.r(e),e.default='  <textarea\n    placeholder="{{::$ctrl.option.placeholder }}"\n    ng-model="$ctrl.model"\n    ng-model-options="{\n        updateOn: \'blur default\',\n        debounce: {\n            blur : 0,\n            default: 10\n        }\n    }"></textarea>\n'},function(t,e,g){"use strict";g.r(e),e.default='  <input type="text"\n    placeholder="{{::$ctrl.option.placeholder }}"\n    ng-model="$ctrl.model"\n    ng-model-options="{\n        updateOn: \'blur default\',\n        debounce: {\n            blur : 0,\n            default: 10\n        }\n    }">\n'},function(t,e,g){"use strict";g.r(e),e.default="{{:: $ctrl.option.heading }}\n"},function(t,e,g){"use strict";g.r(e),e.default='<ux-option-urlfield option="$ctrl.option"></ux-option-urlfield>\n'},function(t,e,g){"use strict";g.r(e),e.default='<div class="uxb-template-loading">Loading&hellip;</div>\n'},function(t,e,g){"use strict";var n=g(0);class A{constructor(t,e,g){this.app=t,this.$scope=e,this.$element=g}$onInit(){this.$element.toggleClass("with-label",!!this.label)}addShortcode(){this.app.outlineShortcode(null),this.app.selectShortcode(null),this.app.configureShortcode(null),this.app("stack").open('\n      <add-shortcode\n        shortcode="$ctrl.shortcode"\n        index="$ctrl.index"\n      ></add-shortcode>\n    ',this.$scope)}}A.$inject=["app","$scope","$element"],n.a.component("addButton",{controller:A,bindings:{shortcode:"<",label:"@",index:"<"},template:'\n    <button type="button" ng-click="$ctrl.addShortcode()">\n      <div class="wrapper">\n        <span class="icon">+</span>\n        <span class="label">{{:: $ctrl.label }}</span>\n      </div>\n    </button>\n  '})},function(t,e,g){"use strict";g(0).a.component("templateSelector",{controller:["app","store","iframe","$scope","templates",function(t,e,g,n,A){this.store=e,this.templates=A,this.activeTab="flatsome",this.presets=[],this.isLoading=!0,this.errorMessage="",this.setTemplate=function(n){e.loading=!0,jQuery.post(e.ajaxUrl,{action:"ux_builder_to_array",id:n}).done(A=>{let{data:o,success:C}=A;if(!C)return console.error("Failed to compile template ".concat(n));e.post.meta.values.hasOwnProperty("_wp_page_template")&&(e.post.meta.values._wp_page_template=e.templates[n].template||"default"),g.reload(o.content),t.apply()})},this.useContentTemplate=function(n){e.loading=!0,jQuery.post(e.ajaxUrl,{action:"ux_builder_to_array",content:n.raw}).done(A=>{let{data:o,success:C}=A;if(!C)return console.error("Failed to compile template ".concat(n.id));e.post.meta.values.hasOwnProperty("_wp_page_template")&&(e.post.meta.values._wp_page_template=n.template||"default"),g.reload(o.content),t.apply()})},this.removeTemplate=async t=>{this.templates.remove(t).catch(t=>{this.errorMessage=t.message})},this.$onInit=()=>{jQuery.get(e.ajaxUrl,{action:"ux_builder_parse_presets",tag:"_root"}).done(t=>{let{data:e,success:g}=t;g&&e&&Array.isArray(e.presets)?this.presets=e.presets.filter(t=>t.custom):this.errorMessage=e?e.message:"Failed to load templates.",this.isLoading=!1,n.$apply()}).fail(t=>{this.errorMessage=t.statusText,this.isLoading=!1,n.$apply()})};const o=(t,e)=>{"_root"===e.tag&&(this.presets=e.presets.filter(t=>t.custom),n.$apply())};n.$on("template-saved",o),n.$on("template-removed",o)}],template:'\n    <h2 class="uxb-templates-title">Insert a template</h2>\n    <div class="uxb-tabs">\n      <button class="uxb-tab" ng-class="{ \'uxb-active\': $ctrl.activeTab === \'flatsome\' }" ng-click="$ctrl.activeTab = \'flatsome\'">Flatsome</button>\n      <button class="uxb-tab" ng-class="{ \'uxb-active\': $ctrl.activeTab === \'custom\' }" ng-click="$ctrl.activeTab = \'custom\'">Custom</button>\n    </div>\n    <div class="uxb-templates-custom" ng-if="$ctrl.activeTab === \'custom\'">\n      <div ng-if="$ctrl.isLoading" class="uxb-loading-spinner"></div>\n      <div ng-if="!$ctrl.isLoading && !$ctrl.errorMessage && $ctrl.presets.length === 0">No custom templates yet&hellip;</div>\n      <p ng-if="$ctrl.errorMessage" class="uxb-error">{{ $ctrl.errorMessage }}</p>\n      <div class="uxb-templates-list">\n        <div class="uxb-template" ng-repeat="template in $ctrl.presets">\n          <button class="uxb-template-button" ng-click="$ctrl.useContentTemplate(template)">\n            <div class="uxb-template-icon">\n              <svg width="42" height="42" viewBox="0 0 15 15" fill="none" xmlns="http://www.w3.org/2000/svg"> <path d="M7.73009 2.41274L8.95709 3.63719L3.40181 9.18095L2.17482 7.95652L7.73009 2.41274ZM7.73009 0.242432L0 7.95652L3.40181 11.3513L11.1319 3.63719L7.73009 0.242432Z" fill="#007CBA"/> <path d="M7.8196 11.3114L8.95987 12.4493L7.8196 13.5873L6.67928 12.4493L7.8196 11.3114ZM7.8196 9.14111L4.50439 12.4492L7.8196 15.7575L11.1348 12.4492L7.8196 9.14087V9.14111Z" fill="#007CBA"/> <path d="M12.2322 6.90786L13.3725 8.0458L12.2322 9.18369L11.0921 8.04584L12.2323 6.90795L12.2322 6.90786ZM12.2323 4.73763L8.91699 8.04584L12.2322 11.3542L15.5474 8.04584L12.2322 4.73755L12.2323 4.73763Z" fill="#007CBA" fill-opacity="0.6"/> </svg>\n            </div>\n            <div class="uxb-template-label">{{:: template.name }}</div>\n          </button>\n          <div class="uxb-template-actions">\n            <button ng-click="$ctrl.templates.editTemplate(template)">\n              <span class="dashicons dashicons-edit"></span>\n            </button>\n            <button ng-click="$ctrl.removeTemplate(template)">\n              <span class="dashicons dashicons-trash"></span>\n            </button>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class="uxb-templates-flatsome" ng-if="$ctrl.activeTab === \'flatsome\'">\n      <h4>*Images are not included.</h4>\n      <div class="uxb-templates-list">\n        <div class="uxb-template" ng-repeat="(id, template) in $ctrl.store.templates track by id">\n          <button type="button" class="uxb-template-button" ng-click="$ctrl.setTemplate(id)">\n            <img ng-attr-src="{{:: template.thumbnail }}">\n            <span class="">{{:: template.name }}</span>\n          </button>\n        </div>\n      </div>\n    </div>\n  '})},function(t,e,g){"use strict";class n{constructor(t){return t.frameElement?t.parent.angular:angular}}n.$inject=["$window"];class A{constructor(t){this.store=t,this.store.states=this.store.states||{}}outlineShortcode(t){this.store.states.outlinedShortcode=t}selectShortcode(t){this.store.states.selectedShortcode=t}configureShortcode(t){this.store.states.configuringShortcode=t}}A.$inject=["store"];class o{constructor(t,e,g,n,A,o,C,I){const s=angular.copy(t.permissions);function i(e){return t.components[e]}return i.goto=function(e){t.currentPath=e},i.exit=function(){if(!s.exit)return;let e="publish"===t.post.status?t.backUrl:t.editUrl;(t.isSaved||confirm("Exit? All changes since last save will be lost."))&&((window.parent||window).location.href=e)},i.register=function(e,g){t.components=t.components||{},t.components[e]=g},i.remove=function(e){delete t.components[e]},i.apply=function(t){e.$apply(t)},i.broadcast=function(t,n){e.$broadcast(t,n),g.postCustomMessage(o.BROADCAST,{type:t,data:n})},i.emit=function(t,n){e.$emit(t,n),g.postCustomMessage(o.EMIT,{type:t,data:n})},i.trigger=function(e){for(var g=arguments.length,n=new Array(g>1?g-1:0),A=1;A<g;A++)n[A-1]=arguments[A];if(this.broadcast(e,...n),t.$$events.hasOwnProperty(e))for(var o=0;o<t.$$events[e].length;o++)t.$$events[e][o].call(this,...n)},i.filter=function(e,g){if(t.$$filters.hasOwnProperty(e)){for(var n=arguments.length,A=new Array(n>2?n-2:0),o=2;o<n;o++)A[o-2]=arguments[o];for(var C=0;C<t.$$filters[e].length;C++)g=t.$$filters[e][C].call(this,g,...A)}return g},i.states=t.states,i.resetAll=function(){t.$$events={},t.$$filters={},this.resetState()},i.resetState=function(){for(let e in t.states)t.states[e]=null},i.freeze=function(e){t.states.freezed=e},i.outlineShortcode=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&this.broadcast(C.OUTLINED,e),t.states.outlinedShortcode=!0!==t.states.freezed?e:null},i.selectShortcode=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;e&&this.broadcast(C.SELECTED,e),t.states.selectedShortcode=!0!==t.states.freezed?e:null},i.configureShortcode=function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;t?(this.selectShortcode(t),this.broadcast(C.CONFIGURE,t),this.goto("/shortcode/".concat(t.$id))):this.goto("/")},i.setBreakpoint=function(e){t.breakpoints.current=e,i.broadcast(I.CHANGED,e)},i}}o.$inject=["store","$rootScope","$window","$timeout","$log","AppEvent","ShortcodeEvent","MediaEvent"];class C{constructor(t,e){this.app=t,this.utils=e}attach(t){t.addEventListener&&t.addEventListener("contextmenu",this.onRightClick.bind(this),!1)}onRightClick(t){let e=this.utils.getGlobalCoordinates(t.view,t.clientX,t.clientY),g=this.utils.shortcodeFromPoint(e.x,e.y);g.isRoot||(this.menu.open(g,t.target,t.clientX,t.clientY),this.app.apply(),t?t.preventDefault():window.event.returnValue=!1)}get menu(){return this.app("contextMenu")}}C.$inject=["app","utils"];var I=g(13);class s{constructor(t,e){return{injectStyles:function(t){return g("styles",t,(function(t,e,g){return(g=document.createElement("link")).id="ux-builder-style-"+e,g.rel="stylesheet",g.type="text/css",g.media="all",g.href=t,g}))},injectScripts:function(t){return g("scripts",t,(function(t,e,g){return(g=document.createElement("script")).id="ux-builder-script-"+e,g.type="text/javascript",g.src=t,g}))}};function g(g,n,A){var o=e.defer(),C=0,I=0;return _.each(n,(function(e,A){!0===t.$get(g+"."+A+".loaded")?delete n[A]:C++})),0===_.size(n)?(o.resolve(),o.promise):(_.each(n,(function(e,n){var s=t.$get(g+"."+n)||A(e,n);if(angular.isDefined(s.loaded)&&!0!==s.loaded)return s.addEventListener("load",i);function i(){s.loaded=!0,++I===C&&o.resolve()}s.loaded=!1,s.addEventListener("load",i),t.$set(g+"."+n,s),document.getElementsByTagName("head")[0].appendChild(s)})),o.promise)}}}s.$inject=["store","$q"];class i{constructor(t){this.enabled=!0,this.store=t,this.store.editor=this.store.editor||{state:{}}}get state(){return this.store.editor.state}disable(){this.enabled=!1,this.state={}}enable(){this.enabled=!0}update(){}outline(t){this.state.outlined=this.enabled?t:null}select(t){this.state.selected=this.enabled?t:null}configure(t){this.state.configuring=this.enabled?t:null}target(t){this.state.target=this.enabled?t:null}}i.$inject=["store"];var r=g(14);class a{constructor(t,e,g,n,A){this.app=t,this.store=e,this.manager=g,this.ShortcodeEvent=n,this.$timeout=A}undo(){const t=this.store.history[this.store.currentAction];return this.doAction(t,-1)}redo(){const t=this.store.history[this.store.currentAction+1];return this.doAction(t,0)}doAction(t,e){if(!t)return;const{type:g,payload:n}=t,{shortcode:A}=this.store;switch(this.store.$disable(),this.store.currentAction=this.store.history.indexOf(t)+e,g){case"reorderChildren":{const{id:t,parentId:e,toIndex:g,fromIndex:o}=n,C=o>g?o+1:o;this.manager.move(A[t],A[e],C,!1),n.fromIndex=g,n.toIndex=o;break}case"moveChild":{const{id:t,parentId:e,index:g,fromParentId:o,fromIndex:C}=n;this.manager.move(A[t],A[o],C,!1),n.fromParentId=e,n.fromIndex=g,n.parentId=o,n.index=C;break}case"updateOption":{const{name:t,optionValue:e,responsiveValue:g}=n,o=A[n.id];n.optionValue=angular.copy(o.optionValues[t]),n.responsiveValue=angular.copy(o.responsiveValues[t]),o.optionValues[t]=e,g&&(o.responsiveValues[t]=g);break}case"updateMultipleOptions":{const{mutations:t}=n;for(const e in t){const g=A[e];for(const n in t[e]){const A=t[e][n],{optionValue:o,responsiveValue:C}=A;A.optionValue=angular.copy(g.optionValues[n]),A.responsiveValue=angular.copy(g.responsiveValues[n]),g.optionValues[n]=o,C&&(g.responsiveValues[n]=C)}}break}case"clearResponsiveValue":{const{id:t,optionName:e,breakpointIndex:g,value:o}=n,C=A[t].responsiveValues[e];C[g]?C[g]=null:C[g]=o;break}case"updateContent":{const{id:t,content:e}=n,g=A[t];n.content=g.content,g.content=e;break}case"addChild":case"removeChild":if(A[n.id])this.manager.remove(A[n.id],!1);else{const t=A[n.parentId].addChild(n.data,n.index,!1);this.$timeout(()=>{this.app.trigger(this.ShortcodeEvent.ATTACHED,t)})}break;case"removeContent":Object.keys(A).length>1?this.manager.remove(this.store.postContent,!1):(n.content.forEach((t,e)=>{this.store.postContent.addChild(t,e,!1)}),this.$timeout(()=>{this.app.trigger(this.ShortcodeEvent.ATTACHED,this.store.postContent)}))}return this.store.$enable(),t}}a.$inject=["app","store","Shortcode","ShortcodeEvent","$timeout"];var l=g(15),c=g.n(l);class d{constructor(t,e,g,n,A,o){this.app=t,this.store=e,this.targets=g,this.manager=n,this.$timeout=A,this.metaOptions=e.post.meta.options.flat,this.postMeta=e.post.meta.values,this.IframeEvent=o}reload(t){if(this.store.isReloading)return;this.store.loading=!0;let e=c()(this.store.iframeUrl);for(let t in this.metaOptions){let g=this.metaOptions[t];e.query+="&".concat(g.$orgName,"=").concat(this.postMeta[g.$name])}this.store.post.content=t||this.store.postContent.copy((t,e)=>{t.$id=e.$id}),this.targets.remove(this.store.postContent),this.manager.remove(this.store.postContent,!1),this.app.resetAll(),this.store.isReloading=!!this.$timeout(()=>{this.store.iframeUrl=e.toString(),delete this.store.isReloading},0)}}d.$inject=["app","store","targets","Shortcode","$timeout","IframeEvent"];class u{constructor(t,e,g){return{defaultBreakpoint:n,currentBreakpoint:A,getMediaValue:function(t,e){return(e=e||A())>n()?o(t,e):I(t,e)},getMediaIndex:function(t,e){return(e=e||A())>n()?C(t,e):s(t,e)},getLowerMediaValue:o,getLowerMediaIndex:C,getHigherMediaValue:I,getHigherMediaIndex:s,hasValueBetween:function(t,e,g){for(var n=e+1;n<g;n++)if(t[n])return!0;return!1}};function n(){return e.breakpoints.default}function A(){return e.breakpoints.current}function o(t,e){for(var g=e||A();g>=0;g--)if(t[g])return t[g];return null}function C(t,e){for(var g=e||A();g>=0;g--)if(t[g])return g;return 0}function I(t,e){for(var g=e||A();g<t.length;g++)if(t[g])return t[g];return null}function s(t,e){for(var g=e||A();g<t.length;g++)if(t[g])return g;return 0}}}u.$inject=["app","store","utils"];var p=g(1);let h,m={};class f{constructor(t,e,g){angular.merge(this,t),this.responsiveValues={},this.optionValues={},this.$isReady=!1;const n=this;this.$id=g||t.$id||function(t,e){let g=Math.floor(65536*(1+Math.random())).toString(16).substring(1);return e?"".concat(t.tag,"-").concat(g):"root"}(t,e),this.$parentId=e?e.$id:t.$parentId||null,this.$textContent=t.content||"",this.data=angular.copy(p.b.shortcodes[this.tag]),e&&angular.extend(this.data,e.data.children),this.states={active:!1,dragging:!1,open:void 0},this.options={get $responsive(){return n.responsiveValues},set $responsive(t){n.responsiveValues=t}};for(let e in t.options.$responsive){this.responsiveValues[e]=[];for(let g=0;g<t.options.$responsive[e].length;g++)this.responsiveValues[e][g]=v(t.options.$responsive[e][g],this.data.options.named[e])}for(let e in t.options)"$"!==e.charAt(0)&&(Object.defineProperty(this.options,e,{enumerable:!0,get:()=>this.data.options.named[e].responsive?b(this.responsiveValues[e]):this.optionValues[e],set:t=>{let g=this.data.options.named[e],n=v(t,g),A=p.b.breakpoints.current;this.$isReady&&p.b.enabled&&(clearTimeout(h),m[this.$id]||(m[this.$id]={}),m[this.$id][e]||(m[this.$id][e]={optionValue:angular.copy(this.optionValues[e]),responsiveValue:angular.copy(this.responsiveValues[e])}),h=setTimeout(()=>{const t=Object.keys(m);1===t.length&&1===Object.keys(m[t[0]]).length?p.b.$addAction("updateOption",{id:this.$id,name:e,override:!1,optionValue:m[t[0]][e].optionValue,responsiveValue:m[t[0]][e].responsiveValue,key:"updateOption-".concat(t[0],"-").concat(e,"-").concat(A)}):t.length&&p.b.$addAction("updateMultipleOptions",{mutations:m,override:!1,key:"updateMultipleOptions-".concat(t.join("-"),"-").concat(A)}),m={},this.apply()},250)),this.optionValues[e]=n,g.responsive&&n!==b(this.responsiveValues[e])&&(this.responsiveValues[e][A]=n)}}),this.options[e]=t.options[e]);this.data.options.flat.forEach(t=>{null===this.options[t.$name]&&(this.options[t.$name]=t.default),t.$isValidFor(e)||(this.options[t.$name]=null,t.responsive&&(this.options.$responsive[t.$name]=[null,null,null]))}),p.b.shortcode[this.$id]=this,t.hasOwnProperty("children")&&(this.children=t.children.map(t=>new f(t,this))),this.$isReady=!0}get content(){return this.$textContent||""}set content(t){t!==this.content&&this.$isReady&&p.b.enabled&&p.b.$addAction("updateContent",{id:this.$id,override:!1,content:this.content,key:"updateContent-".concat(this.$id)}),this.$textContent=t}apply(){this.$scope&&!this.$scope.$$phase&&this.$scope.$apply()}addChild(t,e){let g,n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(t instanceof f)if(t.$parentId!==this.$id){const A=t.$parentId,o=t.index;g=new f(function t(e,g){let n={};for(let t in e)"$"!==t.charAt(0)&&"children"!==t&&e.hasOwnProperty(t)&&(n[t]=angular.copy(e[t]));if(e.isParent){n.children=[];for(var A=0;A<e.children.length;A++)n.children.push(t(e.children[A],g))}return e.$textContent&&(n.content=e.$textContent),g&&g(n,e),n}(t.detatch(),(function(t,e){t.$id=e.$id})),this,t.$id),n&&p.b.$addAction("moveChild",{key:"moveChild-".concat(g.$id,"-").concat(A,"-").concat(o),id:g.$id,parentId:this.$id,index:e,fromIndex:o,fromParentId:A})}else{const A=t.index;e-=e>t.index?1:0,g=t.detatch(),n&&p.b.$addAction("reorderChildren",{key:"reorderChildren-".concat(t.$id,"-").concat(A,"-").concat(e),parentId:this.$id,id:t.$id,toIndex:e,fromIndex:A})}else g=new f(function t(e){let g=null,n=angular.copy(e);if(angular.isDefined(n.children))for(let e in n.children)g=t(p.b.shortcodes[n.children[e].tag].presets[0].content),n.children[e].isparent&&!n.children[e].children.length&&(n.children[e]=angular.merge({},g,n.children[e])),n.children[e].content&&""===n.children[e].content&&(n.children[e].content=g.content);return n}(t),this),n&&p.b.$addAction("addChild",{key:"addChild-".concat(this.$id,"-").concat(g.$id),id:g.$id,parentId:this.$id,index:e,data:g.copy((t,e)=>{t.$id=e.$id})});if(!this.allows(g))throw Error("".concat(g.data.name," is not allowed in ").concat(this.data.name));const A=e>=0?e:this.children.length;return this.children.splice(A,0,g),g}childAt(t){return this.isParent?this.children[t]:null}removeChild(t){return this.isParent?this.children[t].remove():null}replaceChild(t,e){return this.isParent?(this.children[e]=t instanceof f?t:new f(t,this),this.children[e]):null}replaceWith(t){return this.isRoot?null:this.parent.replaceChild(t,this.index)}is(t){return this.data.tag===t}isChildOf(t){return this.parent===t}isDescendantOf(t){return t.descendants.indexOf(this)>-1}isSelfOrDescendantOf(t){return t.descendantsAndSelf.indexOf(this)>-1}isAncestorOf(t){return this.descendants.indexOf(t)>-1}isSelfOrAncestorOf(t){return this.descendantsAndSelf.indexOf(t)>-1}copy(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e={};for(let t in this)_.isFunction(this[t])||"$"!==t.charAt(0)&&"optionValues"!==t&&"responsiveValues"!==t&&"children"!==t&&"data"!==t&&this.hasOwnProperty(t)&&(e[t]=angular.copy(this[t]));if(this.$textContent&&(e.content=this.$textContent),this.isParent){e.children=[];for(let g=0;g<this.children.length;g++)e.children.push(this.children[g].copy(t))}return t&&t(e,this),e}duplicate(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const g=this.copy((t,g)=>{e&&(t.$id=g.$id)});return this.parent.addChild(g,t||this.index+1)}detatch(){return this.parent?this.parent.children.splice(this.index,1)[0]:null}remove(){let t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.descendants.forEach(t=>{delete p.b.shortcode[t.$id]}),this.parent&&(delete p.b.shortcode[this.$id],t&&p.b.$addAction("removeChild",{id:this.$id,index:this.index,parentId:this.parent.$id,key:"removeChild-".concat(this.$id),data:this.copy((t,e)=>{t.$id=e.$id})})),this.detatch()}allows(t){return function(t,e){return!e.isSelfOrDescendantOf(t)&&!t.descendants.filter(t=>!1===t.data.nested&&t.tag===e.tag).length&&e.allowed.hasOwnProperty(t.tag)}(t,this)}get allowed(){return function(t){let e=t.ancestorsAndSelf,g={};if(t.data.allow.length)return t.data.allow.reduce((function(t,e){return p.b.shortcodes[e]&&(t[e]=p.b.shortcodes[e]),t}),{});for(let n in p.b.shortcodes){let A=p.b.shortcodes[n];A.hidden||A.require.length&&-1===A.require.indexOf(t.tag)||!1===A.nested&&t.tag===A.tag||!1===A.nested&&e.filter((function(t){return t.tag===A.tag})).length||(g[A.tag]=A)}return g}(this)}get presets(){let t=this.parent.allowed,e=angular.copy(this.data.presets);return e.forEach((function(g,n){let A=function t(e){let g=[];return e.children&&e.children.forEach((function(e){g.push(e),g.concat(t(e))})),g}(g.content);if(A.unshift(g.content),!t.hasOwnProperty(g.content.tag))return e.splice(n,1);A.forEach((function(t){t.tag===parent.tag&&!0!==p.b.shortcodes[t.tag].nested&&e.splice(n,1)}))})),e}get isParent(){return!!this.children}get isChild(){return!!this.parent}get isEmpty(){return this.isParent&&0===this.children.length}get isRoot(){return"_root"===this.tag}get parent(){return this.$parentId?p.b.shortcode[this.$parentId]:null}get index(){return this.parent?this.parent.children.indexOf(this):0}get depth(){return this.ancestors.length}get ancestors(){let t=[];return this.parent&&(t.push(this.parent),t=t.concat(this.parent.ancestors)),t}get ancestorsAndSelf(){let t=this.ancestors;return t.unshift(this),t}get descendants(){let t=[];if(this.isParent)for(let e=0;e<this.children.length;e++)t.push(this.children[e]),t=t.concat(this.children[e].descendants);return t}get descendantsAndSelf(){let t=this.descendants;return t.unshift(this),t}get siblings(){return this.parent?this.parent.children.filter(t=>t!==this):[]}get nextSibling(){return this.parent&&this.parent.children[this.index+1]?this.parent.children[this.index+1]:null}get previousSibling(){return this.parent&&this.parent.children[this.index-1]?this.parent.children[this.index-1]:null}get siblingsAndSelf(){return this.parent?this.parent.children:[this]}}function v(t,e){return null===t||"string"==typeof t&&""===t?t:isNaN(t)?angular.isUndefined(t)?e.default:(Array.isArray(t)&&(t=t.join(e.config?e.config.delimiter:",")),String(t)):"string"!=typeof t||!/^0\d/.test(t)&&"+"!==t.charAt(0)?Number(t):String(t)}function b(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.b.breakpoints.current;return e>p.b.breakpoints.default?$(t,e):y(t,e)}function $(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.b.breakpoints.current;for(let g=e;g>=0;g--)if(null!==t[g])return t[g];return null}function y(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:p.b.breakpoints.current;for(let g=e;g<t.length;g++)if(null!==t[g])return t[g];return null}class w{constructor(t,e,g,n,A){this.app=t,this.store=e,this.$timeout=g,this.shortcodeTemplateCache=n,this.ShortcodeEvent=A}instantiate(t,e,g){return new f(t,e,g)}create(t,e,g){let n=this.instantiate(t,e,g);return n.$$new=!0,n}move(t,e,g){let n=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],A=e.addChild(t,g,n);return A.$$moved=!0,t.$parentId!==A.$parentId&&(this.app.trigger(this.ShortcodeEvent.DETACHED,t),A.$$new=!!A.data.template||!!this.shortcodeTemplateCache.get(A.$id)),this.app.trigger(this.ShortcodeEvent.MOVED,A),A}duplicate(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,g=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=t.duplicate(e,g);return n.$$new=!0,n.data.template||this.shortcodeTemplateCache.put(n.$id,this.shortcodeTemplateCache.get(t.$id)),n}remove(t){let e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.app.trigger(this.ShortcodeEvent.DETACHED,t),this.app.states.selectedShortcode&&this.app.states.selectedShortcode.isSelfOrDescendantOf(t)&&(this.app.outlineShortcode(null),this.app.selectShortcode(null),this.app.configureShortcode(null)),t.isRoot)for(let g=t.children.length-1;g>=0;g--)t.children[g].remove(e);else t.remove(e)}copy(t){return t.copy((t,e)=>{let g=this.store.breakpoints.default,n=e.options.$responsive;for(let e in n)t.options[e]=n[e][g];for(let g in t.options)"$responsive"!==g&&null===t.options[g]&&(t.options[g]=e.data.options.get(g).default);Object.keys(e.options).forEach(g=>{const n=e.data.options.named[g];!n||n.$isValidFor(e.parent)&&n.$satisfiesConditions(e.options)||(delete t.options[g],delete t.options.$responsive[g])})})}}w.$inject=["app","store","$timeout","shortcodeTemplateCache","ShortcodeEvent"];class x{constructor(t,e,g,n,A){this.store=t,this.$iframe=e,this.$timeout=A,g.addEventListener("resize",()=>this.updateOffsets(),!1),g.addEventListener("scroll",()=>this.updateOffsets(),!1),this.updateOffsets(!0,0)}add(t,e){let g=angular.extend({name:t,element:e.shortcode.$element,shortcode:e.shortcode,target:e.target||"center"===t?e.shortcode:e.shortcode.parent,droppable:!0,addable:!0,active:!0},e);g.offsets=g.element.outerOffset(),this.store.targets.push(g)}enable(t){if(angular.isArray(t))return t.forEach(t=>this.enable(t));for(let e=0;e<this.store.targets.length;e++)this.store.targets[e].target===t&&(this.store.targets[e].active=!0)}disable(t){if(angular.isArray(t))return t.forEach(t=>this.disable(t));for(let e=0;e<this.store.targets.length;e++)this.store.targets[e].target===t&&(this.store.targets[e].active=!1)}remove(t){let e=t.descendantsAndSelf;this.store.targets=this.store.targets.reduce((function(t,g){return e.indexOf(g.shortcode)<0&&t.push(g),t}),[])}removeElement(t){this.store.targets=this.store.targets.reduce((function(e,g){return g.element.get(0)!==t&&e.push(g),e}),[])}enableElement(t){for(let e=0;e<this.store.targets.length;e++)this.store.targets[e].element.get(0)===t&&(this.store.targets[e].active=!0,this.store.targets[e].shortcode.descendants.forEach(t=>{t.$element&&this.enableElement(t.$element.get(0))}))}disableElement(t){for(let e=0;e<this.store.targets.length;e++)this.store.targets[e].element.get(0)===t&&(this.store.targets[e].active=!1,this.store.targets[e].shortcode.descendants.forEach(t=>{t.$element&&this.disableElement(t.$element.get(0))}))}find(t,e){let g=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:50,A=[],o=!!this.store.isDragging;for(let C=0;C<this.store.targets.length;C++){let I,s,i,r,a,l=this.store.targets[C],c=l.element[0].ownerDocument.defaultView,{parent:d}=l.shortcode,u=t,p=e;if(!l.active)continue;if("center"===l.name&&!l.shortcode.isEmpty)continue;if(o&&!l.droppable)continue;if(!o&&!l.addable)continue;if(!o&&!c.frameElement)continue;if(!c){this.removeElement(l.element.get(0));continue}switch(c.frameElement&&angular.isDefined(this.frameOffsets)&&(u-=this.frameOffsets.left,p-=this.frameOffsets.top),d&&"ux_stack"===d.tag&&"col"===d.options.direction&&(l={...l,name:"left"===l.name?"top":"bottom"}),l.name){case"top":a=l.shortcode.index,i=l.offsets.left+l.offsets.width/2,r=l.offsets.top,I=g?i:u,s=r;break;case"right":a=l.shortcode.index+1,i=l.offsets.right,r=l.offsets.top+l.offsets.height/2,I=l.offsets.right,s=g?r:p;break;case"bottom":a=l.shortcode.index+1,i=l.offsets.left+l.offsets.width/2,r=l.offsets.bottom,I=g?i:u,s=r;break;case"left":a=l.shortcode.index,i=l.offsets.left,r=l.offsets.top+l.offsets.height/2,I=i,s=g?r:p;break;case"center":a=0,i=i=l.offsets.left+l.offsets.width/2,r=r=l.offsets.top+l.offsets.height/2}let h={fromSide:Math.sqrt(Math.pow(Math.abs(I-u),2)+Math.pow(Math.abs(s-p),2)),fromCenter:Math.sqrt(Math.pow(Math.abs(i-u),2)+Math.pow(Math.abs(r-p),2))},m=l.shortcode.isEmpty,f=m?0:n,v=this.isInside(l,u,p,f),b=this.isInside(l,u,p),$=m?v:h.fromSide<f;v&&$&&A.push({target:l.target||("center"!==l.name?l.shortcode.parent:l.shortcode),insideLimit:v,insideElement:b,element:l.element,shortcode:l.shortcode,name:l.name,distance:h,index:a})}return _.chain(A).sortBy(t=>-t.target.ancestors.length).sortBy(t=>t.distance.fromCenter).value()}isInside(t,e,g){let n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0;var A=n,o=n,C=Math.min(t.offsets.left-A,t.offsets.right+A),I=Math.max(t.offsets.left-A,t.offsets.right+A),s=Math.min(t.offsets.top-o,t.offsets.bottom+o),i=Math.max(t.offsets.top-o,t.offsets.bottom+o);return C<=e&&e<=I&&s<=g&&g<=i}updateOffsets(){let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:250;this.$timeout.cancel(this.store.__updateTargets),this.store.__updateTargets=this.$timeout(()=>{this.frameOffsets=this.$iframe().get(0).getBoundingClientRect();for(let e=0;e<this.store.targets.length;e++){let g=this.store.targets[e];(t||g.active&&g.element[0].ownerDocument.defaultView===window)&&("center"===g.name&&g.shortcode.isEmpty&&g.shortcode.$content&&g.element[0].ownerDocument.defaultView&&g.element[0].ownerDocument.defaultView.frameElement?g.offsets=g.shortcode.$content.outerOffset({includeMargins:!0}):g.element?g.offsets=g.element.outerOffset({includeMargins:!0}):this.store.remove(g.shortcode))}delete this.store.__updateTargets},e,!1)}}x.$inject=["store","$iframe","$window","$document","$timeout"];class E{constructor(t,e,g,n,A,o,C){this.app=t,this.store=e,this.modal=g,this.presetCache=n,this.Shortcode=A,this.isSaving=!1,this.shortcode=!1,this.store.currentModal=null,this.store.templateName="",this.content=!1,this.$timeout=o,this.$q=C}showModal(t){const{title:e,name:g,...n}=t;this.store.templateName=g||"",this.store.templateError="",this.store.templateData=n,this.store.currentModal=this.modal.show("custom-template-modal",{title:e}),this.store.currentModal.onClose(()=>{this.store.templateName="",this.store.templateError="",this.store.templateData=null,this.store.currentModal=null}),this.$timeout(()=>{this.store.currentModal&&this.store.currentModal.$el.find(".custom-template-modal__input").focus()},75)}savePreset(t){this.showModal({title:"Save ".concat(t.data.name," as preset"),tag:t.tag,content:this.Shortcode.copy(t)})}updatePreset(t){this.showModal({title:"Edit ".concat(t.name," preset"),...t})}saveTemplate(t){this.showModal({title:"Save as template",tag:"_root",content:this.Shortcode.copy(t),template:this.store.post.meta.values._wp_page_template})}editTemplate(t){this.showModal({title:"Edit ".concat(t.name," template"),...t})}save(){if(this.isSaving)return;const t={...this.store.templateData,post_id:this.store.post.id,title:this.store.templateName,content:angular.toJson(this.store.templateData.content)};this.isSaving=!0,jQuery.post(this.store.ajaxUrl,{action:"ux_builder_save_custom_template",security:this.store.nonce,data:t}).done(t=>{let{data:e,success:g}=t;g?e&&(this.presetCache.remove(e.tag),this.app.broadcast("template-saved",e),this.store.currentModal&&this.store.currentModal.hide()):this.store.currentModal&&this.store.currentModal.setError(e?e.message:"Failed to save template."),this.isSaving=!1,this.app.apply()}).fail(t=>{this.store.currentModal&&this.store.currentModal.setError(t.statusText),this.isSaving=!1,this.app.apply()})}remove(t){return this.$q((e,g)=>{if(confirm("Do you want to delete ".concat(t.name,"?")))return jQuery.post(this.store.ajaxUrl,{action:"ux_builder_delete_custom_template",post_id:this.store.post.id,security:this.store.nonce,id:t.id}).done(t=>{let{data:n,success:A}=t;A?n&&(this.app.broadcast("template-removed",n),e(!0)):g(new Error(n?n.message:"Failed to delete template.")),this.app.apply()}).fail(t=>{g(new Error(t.statusText))});e()})}}E.$inject=["app","store","modal","presetCache","Shortcode","$timeout","$q"];const S=(window.parent||window).uxBuilderData;class D{constructor(t,e,g,n){this.arrayPrefix=function(t,e){return t.reduce((t,g)=>(t.push("".concat(e).concat(g)),t),[])},this.isIframe=function(){return!!g.frameElement},this.getGlobalCoordinates=function(t,e,g){if(t.frameElement){let n=t.frameElement.getBoundingClientRect();e+=n.left,g+=n.top}return{x:e,y:g}},this.camelCase=function(t,e){return t=e?t.charAt(0).toUpperCase()+t.slice(1):t,jQuery.camelCase(t.replace(/\_|\:/g,"-",!0))},this.kebabCase=function(t){return t.replace(/[A-Z\u00C0-\u00D6\u00D8-\u00DE]/g,(function(t){return t.toLowerCase()}))},this.elementFromPoint=function(t,e){var A=g.parent||g,o=A.document,C=n().get(0).contentWindow,I=n().get(0).contentDocument,s=t,i=e,r=n().get(0).getBoundingClientRect(),a=t-r.left,l=e-r.top,c=A.angular.element(o.elementFromPoint(s,i)),d=C.angular.element(I.elementFromPoint(a,l));return d.length?d:c},this.shortcodeFromPoint=function(e,g){return this.elementFromPoint(e,g).shortcode()||t.postContent}}}D.$inject=["store","$document","$window","$iframe"];class N{constructor(t,e,g){this.app=t,this.store=e,this.$editor=(window.parent||window).angular.element("wp-editor"),this.$iframe=this.$editor.find("iframe").get(0).contentWindow,g.addEventListener("message",t=>this.onMessage(t),!1)}onMessage(t){if("uxBuilderWpEditor"===t.data.source)switch(t.data.type){case"change":this.updateContent(t.data.content);break;case"discard":this.discard();break;case"hide":this.close()}}get editor(){return this.$iframe.wp.editor}open(){this.store.$set("stack",this),this.$editor.addClass("is-visible"),this.originalContent=this.app.states.selectedShortcode.content,this.$iframe.postMessage({source:"uxbuilder",type:"setContent",content:this.originalContent},"*")}updateContent(t){this.app.states.selectedShortcode.content=t,this.app.states.selectedShortcode.apply()}discard(){this.updateContent(this.originalContent),this.originalContent="",this.close()}close(){this.store.$set("stack",!1),this.$editor.removeClass("is-visible")}}N.$inject=["app","store","$window"];class O{constructor(t){this.$media=(window.parent||window).angular.element("wp-media"),this.$iframe=this.$media.find("iframe").get(0).contentWindow,t.addEventListener("message",t=>this.onMessage(t),!1)}onMessage(t){if("uxBuilderWpMedia"===t.data.source)switch(t.data.type){case"close":this.close();break;case"select":"function"==typeof this.cb&&this.cb(t.data.attachment)}}get media(){return this.$iframe.wp.media}open(t){this.$media.addClass("is-active")}close(){this.$media.removeClass("is-active")}}O.$inject=["$window"];class k{constructor(t,e){return function(){return t.element((e.parent.document||document).getElementsByTagName("iframe")[0])}}}k.$inject=["$angular","$window"],angular.module("app.services",[]).service("$angular",n).service("actions",A).service("app",o).service("contextmenu",C).service("draggable",I.a).service("dependencies",s).service("editor",i).service("history",a).service("iframe",d).service("modal",class{show(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const g=jQuery("#".concat(t,"-modal"),parent.document),n=g.find(".app-modal-title"),A=g.find(".app-modal-error");return e.title&&n.html(e.title),g.addClass("is-visible"),{$el:g,hide:()=>this.hide(t),setError(t){A.html(t)},clearError(){A.empty()},onClose(t){g.one("modal:close",t)}}}hide(t){const e=jQuery("#".concat(t,"-modal"),parent.document),g=e.find(".app-modal-error");e.trigger("modal:close"),e.removeClass("is-visible"),g.empty(),e.off()}}).service("hammer",r.a).service("ResponsiveHelper",u).service("Shortcode",w).service("shortcodeTemplateCache",(function(){return S.templateCache=S.templateCache||new Map,{put(t,e){S.templateCache.set(t,e)},get:t=>S.templateCache.get(t),remove(t){S.templateCache.delete(t)},removeAll(){S.templateCache.clear()},destroy(){S.templateCache.clear()},info:()=>({id:"shortcodeTemplateCache",size:S.templateCache.size})}})).service("utils",D).service("store",p.a).service("targets",x).service("templates",E).service("$iframe",k).service("wpEditor",N).service("wpMedia",O)},function(t,e,g){"use strict";function n(t){return e=>t.trustAsHtml(e)}function A(t){return function(e){let g=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"html";return t.trustAs(g,e)}}n.$inject=["$sce"],A.$inject=["$sce"];var o=g(7);angular.module("app.filters",[]).filter("noDefault",(function(){return(t,e)=>t!==e.default&&t})).filter("heightCheck",(function(){return t=>"100%"===t?"100vh":t})).filter("html",n).filter("rgba",(function(){return function(t){let e=t;if(e.indexOf("#")>-1){let t=/^#?([a-f\d])([a-f\d])([a-f\d])$/i;e=e.replace(t,(t,e,g,n)=>e+e+g+g+n+n),e=e.replace("#","");let g=parseInt(e.substring(0,2),16),n=parseInt(e.substring(2,4),16),A=parseInt(e.substring(4,6),16);e="rgba(".concat(g,",").concat(n,",").concat(A,",0.3)")}return e}})).filter("trusted",A).filter("autop",o.a)},function(t,e,g){"use strict";var n=g(0);function A(t){return{restrict:"A",controllerAs:"draggableShortcode",bindToController:{shortcode:"=draggableShortcode",options:"=draggableOptions",element:"=draggableElement"},controller:["$scope","$element","targets",function(e,g,n){var A=this,o=null;e.$watch("draggableShortcode.shortcode",(function(C){o&&o.destroy(),o=t(A.shortcode,A.element||g.get(0),A.options),A.options&&A.options.targets&&A.options.targets.map((function(t){angular.isObject(t)?(t.shortcode=A.shortcode,t.element=g,n.add(t.name,t)):n.add(t,{shortcode:A.shortcode,element:g})})),e.$on("$destroy",(function(){o.destroy(),n.removeElement(g.get(0))}))}))}]}}function o(t){return{restrict:"A",controllerAs:"attachment",bindToController:!0,scope:{id:"=wpAttachment",size:"=wpAttachmentSize",model:"=wpAttachmentModel",width:"@wpAttachmentWidth",height:"@wpAttachmentHeight"},controller:["app","store","$scope","$element",function(t,e,g,n){var A=!1;function o(){var t=g.attachment.id,n=g.attachment.size||"full",A=g.attachment.width||0,o=g.attachment.height||0,I=A||o?"w".concat(A,".h").concat(o):n,s="cache.attachment.image".concat(I,".id").concat(t),i=e.$get(s);if(angular.isDefined(i))return C(i);jQuery.getJSON(e.ajaxUrl,{action:"ux_builder_get_attachment",attachment_id:t,attachment_size:n,attachment_width:A,attachment_height:o}).done((function(t){t.success?C(e.$set(s,t.data)):window.self===window.top&&g.attachment.model&&(i=["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAeAAAAEOCAIAAADe+FMwAAAACXBIWXMAAAsTAAALEwEAmpwYAAAKT2lDQ1BQaG90b3Nob3AgSUNDIHByb2ZpbGUAAHjanVNnVFPpFj333vRCS4iAlEtvUhUIIFJCi4AUkSYqIQkQSoghodkVUcERRUUEG8igiAOOjoCMFVEsDIoK2AfkIaKOg6OIisr74Xuja9a89+bN/rXXPues852zzwfACAyWSDNRNYAMqUIeEeCDx8TG4eQuQIEKJHAAEAizZCFz/SMBAPh+PDwrIsAHvgABeNMLCADATZvAMByH/w/qQplcAYCEAcB0kThLCIAUAEB6jkKmAEBGAYCdmCZTAKAEAGDLY2LjAFAtAGAnf+bTAICd+Jl7AQBblCEVAaCRACATZYhEAGg7AKzPVopFAFgwABRmS8Q5ANgtADBJV2ZIALC3AMDOEAuyAAgMADBRiIUpAAR7AGDIIyN4AISZABRG8lc88SuuEOcqAAB4mbI8uSQ5RYFbCC1xB1dXLh4ozkkXKxQ2YQJhmkAuwnmZGTKBNA/g88wAAKCRFRHgg/P9eM4Ors7ONo62Dl8t6r8G/yJiYuP+5c+rcEAAAOF0ftH+LC+zGoA7BoBt/qIl7gRoXgugdfeLZrIPQLUAoOnaV/Nw+H48PEWhkLnZ2eXk5NhKxEJbYcpXff5nwl/AV/1s+X48/Pf14L7iJIEyXYFHBPjgwsz0TKUcz5IJhGLc5o9H/LcL//wd0yLESWK5WCoU41EScY5EmozzMqUiiUKSKcUl0v9k4t8s+wM+3zUAsGo+AXuRLahdYwP2SycQWHTA4vcAAPK7b8HUKAgDgGiD4c93/+8//UegJQCAZkmScQAAXkQkLlTKsz/HCAAARKCBKrBBG/TBGCzABhzBBdzBC/xgNoRCJMTCQhBCCmSAHHJgKayCQiiGzbAdKmAv1EAdNMBRaIaTcA4uwlW4Dj1wD/phCJ7BKLyBCQRByAgTYSHaiAFiilgjjggXmYX4IcFIBBKLJCDJiBRRIkuRNUgxUopUIFVIHfI9cgI5h1xGupE7yAAygvyGvEcxlIGyUT3UDLVDuag3GoRGogvQZHQxmo8WoJvQcrQaPYw2oefQq2gP2o8+Q8cwwOgYBzPEbDAuxsNCsTgsCZNjy7EirAyrxhqwVqwDu4n1Y8+xdwQSgUXACTYEd0IgYR5BSFhMWE7YSKggHCQ0EdoJNwkDhFHCJyKTqEu0JroR+cQYYjIxh1hILCPWEo8TLxB7iEPENyQSiUMyJ7mQAkmxpFTSEtJG0m5SI+ksqZs0SBojk8naZGuyBzmULCAryIXkneTD5DPkG+Qh8lsKnWJAcaT4U+IoUspqShnlEOU05QZlmDJBVaOaUt2ooVQRNY9aQq2htlKvUYeoEzR1mjnNgxZJS6WtopXTGmgXaPdpr+h0uhHdlR5Ol9BX0svpR+iX6AP0dwwNhhWDx4hnKBmbGAcYZxl3GK+YTKYZ04sZx1QwNzHrmOeZD5lvVVgqtip8FZHKCpVKlSaVGyovVKmqpqreqgtV81XLVI+pXlN9rkZVM1PjqQnUlqtVqp1Q61MbU2epO6iHqmeob1Q/pH5Z/YkGWcNMw09DpFGgsV/jvMYgC2MZs3gsIWsNq4Z1gTXEJrHN2Xx2KruY/R27iz2qqaE5QzNKM1ezUvOUZj8H45hx+Jx0TgnnKKeX836K3hTvKeIpG6Y0TLkxZVxrqpaXllirSKtRq0frvTau7aedpr1Fu1n7gQ5Bx0onXCdHZ4/OBZ3nU9lT3acKpxZNPTr1ri6qa6UbobtEd79up+6Ynr5egJ5Mb6feeb3n+hx9L/1U/W36p/VHDFgGswwkBtsMzhg8xTVxbzwdL8fb8VFDXcNAQ6VhlWGX4YSRudE8o9VGjUYPjGnGXOMk423GbcajJgYmISZLTepN7ppSTbmmKaY7TDtMx83MzaLN1pk1mz0x1zLnm+eb15vft2BaeFostqi2uGVJsuRaplnutrxuhVo5WaVYVVpds0atna0l1rutu6cRp7lOk06rntZnw7Dxtsm2qbcZsOXYBtuutm22fWFnYhdnt8Wuw+6TvZN9un2N/T0HDYfZDqsdWh1+c7RyFDpWOt6azpzuP33F9JbpL2dYzxDP2DPjthPLKcRpnVOb00dnF2e5c4PziIuJS4LLLpc+Lpsbxt3IveRKdPVxXeF60vWdm7Obwu2o26/uNu5p7ofcn8w0nymeWTNz0MPIQ+BR5dE/C5+VMGvfrH5PQ0+BZ7XnIy9jL5FXrdewt6V3qvdh7xc+9j5yn+M+4zw33jLeWV/MN8C3yLfLT8Nvnl+F30N/I/9k/3r/0QCngCUBZwOJgUGBWwL7+Hp8Ib+OPzrbZfay2e1BjKC5QRVBj4KtguXBrSFoyOyQrSH355jOkc5pDoVQfujW0Adh5mGLw34MJ4WHhVeGP45wiFga0TGXNXfR3ENz30T6RJZE3ptnMU85ry1KNSo+qi5qPNo3ujS6P8YuZlnM1VidWElsSxw5LiquNm5svt/87fOH4p3iC+N7F5gvyF1weaHOwvSFpxapLhIsOpZATIhOOJTwQRAqqBaMJfITdyWOCnnCHcJnIi/RNtGI2ENcKh5O8kgqTXqS7JG8NXkkxTOlLOW5hCepkLxMDUzdmzqeFpp2IG0yPTq9MYOSkZBxQqohTZO2Z+pn5mZ2y6xlhbL+xW6Lty8elQfJa7OQrAVZLQq2QqboVFoo1yoHsmdlV2a/zYnKOZarnivN7cyzytuQN5zvn//tEsIS4ZK2pYZLVy0dWOa9rGo5sjxxedsK4xUFK4ZWBqw8uIq2Km3VT6vtV5eufr0mek1rgV7ByoLBtQFr6wtVCuWFfevc1+1dT1gvWd+1YfqGnRs+FYmKrhTbF5cVf9go3HjlG4dvyr+Z3JS0qavEuWTPZtJm6ebeLZ5bDpaql+aXDm4N2dq0Dd9WtO319kXbL5fNKNu7g7ZDuaO/PLi8ZafJzs07P1SkVPRU+lQ27tLdtWHX+G7R7ht7vPY07NXbW7z3/T7JvttVAVVN1WbVZftJ+7P3P66Jqun4lvttXa1ObXHtxwPSA/0HIw6217nU1R3SPVRSj9Yr60cOxx++/p3vdy0NNg1VjZzG4iNwRHnk6fcJ3/ceDTradox7rOEH0x92HWcdL2pCmvKaRptTmvtbYlu6T8w+0dbq3nr8R9sfD5w0PFl5SvNUyWna6YLTk2fyz4ydlZ19fi753GDborZ752PO32oPb++6EHTh0kX/i+c7vDvOXPK4dPKy2+UTV7hXmq86X23qdOo8/pPTT8e7nLuarrlca7nuer21e2b36RueN87d9L158Rb/1tWeOT3dvfN6b/fF9/XfFt1+cif9zsu72Xcn7q28T7xf9EDtQdlD3YfVP1v+3Njv3H9qwHeg89HcR/cGhYPP/pH1jw9DBY+Zj8uGDYbrnjg+OTniP3L96fynQ89kzyaeF/6i/suuFxYvfvjV69fO0ZjRoZfyl5O/bXyl/erA6xmv28bCxh6+yXgzMV70VvvtwXfcdx3vo98PT+R8IH8o/2j5sfVT0Kf7kxmTk/8EA5jz/GMzLdsAADhuaVRYdFhNTDpjb20uYWRvYmUueG1wAAAAAAA8P3hwYWNrZXQgYmVnaW49Iu+7vyIgaWQ9Ilc1TTBNcENlaGlIenJlU3pOVGN6a2M5ZCI/Pgo8eDp4bXBtZXRhIHhtbG5zOng9ImFkb2JlOm5zOm1ldGEvIiB4OnhtcHRrPSJBZG9iZSBYTVAgQ29yZSA1LjYtYzExMSA3OS4xNTgzMjUsIDIwMTUvMDkvMTAtMDE6MTA6MjAgICAgICAgICI+CiAgIDxyZGY6UkRGIHhtbG5zOnJkZj0iaHR0cDovL3d3dy53My5vcmcvMTk5OS8wMi8yMi1yZGYtc3ludGF4LW5zIyI+CiAgICAgIDxyZGY6RGVzY3JpcHRpb24gcmRmOmFib3V0PSIiCiAgICAgICAgICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgICAgICAgICB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIKICAgICAgICAgICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgICAgICAgICAgeG1sbnM6cGhvdG9zaG9wPSJodHRwOi8vbnMuYWRvYmUuY29tL3Bob3Rvc2hvcC8xLjAvIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iPgogICAgICAgICA8eG1wOkNyZWF0b3JUb29sPkFkb2JlIFBob3Rvc2hvcCBDQyAyMDE1IChNYWNpbnRvc2gpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDx4bXA6Q3JlYXRlRGF0ZT4yMDE2LTA5LTI3VDE3OjUzOjI2KzAyOjAwPC94bXA6Q3JlYXRlRGF0ZT4KICAgICAgICAgPHhtcDpNZXRhZGF0YURhdGU+MjAxNi0wOS0yN1QxNzo1MzoyNiswMjowMDwveG1wOk1ldGFkYXRhRGF0ZT4KICAgICAgICAgPHhtcDpNb2RpZnlEYXRlPjIwMTYtMDktMjdUMTc6NTM6MjYrMDI6MDA8L3htcDpNb2RpZnlEYXRlPgogICAgICAgICA8ZGM6Zm9ybWF0PmltYWdlL3BuZzwvZGM6Zm9ybWF0PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOmJjYTkzYTljLTRlZmQtNDQ0ZC05YjY1LTllNGQ0YWIzMWE3NzwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDpiY2E5M2E5Yy00ZWZkLTQ0NGQtOWI2NS05ZTRkNGFiMzFhNzc8L3htcE1NOkRvY3VtZW50SUQ+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDpiY2E5M2E5Yy00ZWZkLTQ0NGQtOWI2NS05ZTRkNGFiMzFhNzc8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkhpc3Rvcnk+CiAgICAgICAgICAgIDxyZGY6U2VxPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmFjdGlvbj5jcmVhdGVkPC9zdEV2dDphY3Rpb24+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDppbnN0YW5jZUlEPnhtcC5paWQ6YmNhOTNhOWMtNGVmZC00NDRkLTliNjUtOWU0ZDRhYjMxYTc3PC9zdEV2dDppbnN0YW5jZUlEPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6d2hlbj4yMDE2LTA5LTI3VDE3OjUzOjI2KzAyOjAwPC9zdEV2dDp3aGVuPgogICAgICAgICAgICAgICAgICA8c3RFdnQ6c29mdHdhcmVBZ2VudD5BZG9iZSBQaG90b3Nob3AgQ0MgMjAxNSAoTWFjaW50b3NoKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8cGhvdG9zaG9wOkNvbG9yTW9kZT4zPC9waG90b3Nob3A6Q29sb3JNb2RlPgogICAgICAgICA8cGhvdG9zaG9wOklDQ1Byb2ZpbGU+c1JHQiBJRUM2MTk2Ni0yLjE8L3Bob3Rvc2hvcDpJQ0NQcm9maWxlPgogICAgICAgICA8dGlmZjpPcmllbnRhdGlvbj4xPC90aWZmOk9yaWVudGF0aW9uPgogICAgICAgICA8dGlmZjpYUmVzb2x1dGlvbj43MjAwMDAvMTAwMDA8L3RpZmY6WFJlc29sdXRpb24+CiAgICAgICAgIDx0aWZmOllSZXNvbHV0aW9uPjcyMDAwMC8xMDAwMDwvdGlmZjpZUmVzb2x1dGlvbj4KICAgICAgICAgPHRpZmY6UmVzb2x1dGlvblVuaXQ+MjwvdGlmZjpSZXNvbHV0aW9uVW5pdD4KICAgICAgICAgPGV4aWY6Q29sb3JTcGFjZT4xPC9leGlmOkNvbG9yU3BhY2U+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj40ODA8L2V4aWY6UGl4ZWxYRGltZW5zaW9uPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+MjcwPC9leGlmOlBpeGVsWURpbWVuc2lvbj4KICAgICAgPC9yZGY6RGVzY3JpcHRpb24+CiAgIDwvcmRmOlJERj4KPC94OnhtcG1ldGE+CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIAogICAgICAgICAgICAgICAgICAgICAgICAgICAgCjw/eHBhY2tldCBlbmQ9InciPz4rLBj0AAAAIGNIUk0AAHolAACAgwAA+f8AAIDpAAB1MAAA6mAAADqYAAAXb5JfxUYAAALzSURBVHja7NQxEQAwCACxUklMbPh3hQuOIZHww0dWPwDu+RIAGDQABg1g0AAYNIBBA2DQABg0gEEDYNAABg2AQQNg0AAGDYBBAxg0AAYNYNAAGDQABg1g0AAYNIBBA2DQABg0gEEDYNAABg2AQQMYNAAGDYBBAxg0AAYNYNAAGDQABg1g0AAYNIBBA2DQAAYNgEEDYNAABg2AQQMYNAAGDYBBAxg0AAYNYNAAGDQABg1g0AAYNIBBA2DQAAYNgEEDYNAABg2AQQMYNAAGDYBBAxg0AAYNYNAAGDSAQQNg0AAYNIBBA2DQAAYNgEEDYNAABg2AQQMYNAAGDWDQABg0AAYNYNAAGDSAQQNg0AAYNIBBA2DQAAYNgEEDYNAABg2AQQMYNAAGDWDQABg0AAYNYNAAGDSAQQNg0AAYNIBBA2DQAAYNgEEDGDQABg2AQQMYNAAGDWDQABg0AAYNYNAAGDSAQQNg0AAGDYBBA2DQAAYNgEEDGDQABg2AQQMYNAAGDWDQABg0AAYNYNAAGDSAQQNg0AAGDYBBA2DQAAYNgEEDGDQABg2AQQMYNAAGDWDQABg0gEEDYNAAGDSAQQNg0AAGDYBBA2DQAAYNgEEDGDQABg1g0AAYNAAGDWDQABg0gEEDYNAAGDSAQQNg0AAGDYBBA2DQAAYNgEEDGDQABg1g0AAYNAAGDWDQABg0gEEDYNAAGDSAQQNg0AAGDYBBAxg0AAYNgEEDGDQABg1g0AAYNAAGDWDQABg0gEEDYNAABg2AQQNg0AAGDYBBAxg0AAYNgEEDGDQABg1g0AAYNAAGDWDQABg0gEEDYNAABg2AQQNg0AAGDYBBAxg0AAYNgEEDGDQABg1g0AAYNIBBA2DQABg0gEEDYNAABg2AQQNg0AAGDYBBAxg0AAYNYNAAGDQABg1g0AAYNIBBA2DQABg0gEEDYNAABg2AQQMYtAQABg2AQQMYNAAGDWDQABg0AAYNYNAAGDSAQQOwbQAAAP//AwDBvQLFJkQUdgAAAABJRU5ErkJggg==","480px","270px"]),i&&C(i)})).fail((function(e){console.error("Failed to load attachment",t)}))}function C(t){"IMG"===n[0].tagName?(n.addClass("processing"),n.on("load",(function(){n.off("load").removeClass("processing")})),n.attr("src",t[0]),n.attr("width",t[1]),n.attr("height",t[2])):n.css("background-image","url("+t[0]+")"),A=!0}n.on("load.wpAttachment",()=>t("tools").fixPositions()),g.$watch(()=>this.id,(function(t){return t&&""!==t?"string"==typeof t&&t.indexOf("/")>-1?C([t]):void o():("IMG"===n[0].tagName?(n.removeAttr("src"),n.removeAttr("width"),n.removeAttr("height")):n.css("background-image",""),void(A=!1))})),g.$watch(()=>this.size,(function(t,e){A&&t!==e&&o()})),g.$on("$destroy",(function(){n.off("load.wpAttachment")}))}]}}A.$inject=["draggable"],o.$inject=["app"],n.a.directive("draggableShortcode",A),n.a.directive("toNumber",(function(){return{require:"ngModel",link:function(t,e,g,n){n.$formatters.push(t=>{const e=parseFloat(t);return isNaN(e)?null:e})}}})),n.a.directive("wpAttachment",o)},function(t,e,g){"use strict";(function(t){g.d(e,"a",(function(){return o}));var n=g(3);const A={top:{},right:{},bottom:{},left:{}};class o{constructor(e,g,o,C,I,s){this.app=e,this.store=g,this.utils=o,this.$timeout=C,this.$element=s,this.shortcode=null;for(let e in A)A[e].$element=s.find(".uxb-resize-".concat(e)),A[e].draggable=new t.HammerJS(A[e].$element.get(0),{edge:e}),A[e].draggable.get("pan").set({direction:Object(n.b)(e)}),A[e].draggable.on("hammer.input",this.onHammerInput.bind(this)),A[e].draggable.on("panstart",this.onPanStart.bind(this)),A[e].draggable.on("pan",this.onPanMove.bind(this)),A[e].draggable.on("panend",this.onPanEnd.bind(this));I.$watch(()=>e.states.outlinedShortcode,t=>{if(this.app.states.resizingShortcode)return;if(!t)return s.removeClass("uxb-is-active");let e=Object(n.c)(t),g=!!e&&!1!==e.data.resize;for(let t in A){let n=g&&angular.isArray(e.data.resize)&&e.data.resize.indexOf(t)>-1,o=g&&!0===e.data.resize;A[t].$element.toggleClass("uxb-is-active",n||o)}s.toggleClass("uxb-is-active",g),s.cover(g?e.$element:null),this.shortcode=e}),I.$on(Event.CHANGE,()=>{this.shortcode&&s.cover(this.shortcode.$element)})}onHammerInput(t){t.srcEvent.stopPropagation(),t.srcEvent.stopImmediatePropagation(),this.app.states.resizingShortcode=this.shortcode,this.store.isDragging=!0}onPanStart(e){e.edge=Object(n.a)(A,e.target),angular.element("body").addClass("uxb-is-resizing-".concat(e.edge)),Object(n.d)(this.app.states.resizingShortcode,"onResize".concat(t.capitalize(e.edge),"Start"),e),Object(n.d)(this.app.states.resizingShortcode,"onResizeStart",e),this.app.outlineShortcode(null),this.app("tools").hideAddableSpot(),this.app("tools").apply(),this.app.states.resizingShortcode.$scope.$digest()}onPanMove(e){e.edge=Object(n.a)(A,e.target),Object(n.d)(this.app.states.resizingShortcode,"onResize".concat(t.capitalize(e.edge),"Move"),e),Object(n.d)(this.app.states.resizingShortcode,"onResizeMove",e),this.app("tools").apply(),this.app.states.resizingShortcode.$scope.$digest(),this.$element.cover(this.app.states.resizingShortcode.$element)}onPanEnd(e){e.edge=Object(n.a)(A,e.target),angular.element("body").removeClass("uxb-is-resizing-".concat(e.edge)),Object(n.d)(this.app.states.resizingShortcode,"onResize".concat(t.capitalize(e.edge),"End"),e),Object(n.d)(this.app.states.resizingShortcode,"onResizeEnd",e),this.$timeout(()=>{this.app.states.resizingShortcode=null,this.store.isDragging=!1},0)}}o.$inject=["app","store","utils","$timeout","$scope","$element"]}).call(this,g(2))},,,,,,,,,,,,,,,,,,,,function(t,e,g){g(25),t.exports=g(84)},function(t,e,g){"use strict";g.r(e),function(t){g(85),g(26),g(29),g(62),g(61),g(30),g(60),g(101),g(38),g(58),g(86),g(94),g(87),g(102),g(88),g(89),g(103),g(90),g(59),g(104);var e=g(0),n=g(6);t.UxBuilder=window.parent.UxBuilder,e.a.requires.push("app.filters"),e.a.requires.push("app.services");for(let t in n.a.modules.iframe)e.a.requires.push(n.a.modules.iframe[t]);e.a.config(["$controllerProvider",function(t){angular.forEach(n.a.shortcodes,(function(e,g){t.register("".concat(g,"__controller"),e.controller||angular.noop)}))}])}.call(this,g(2))},function(t,e){window.MutationObserver||(window.MutationObserver=function(t){function e(t){this.i=[],this.m=t}function g(e){var g,n={type:null,target:null,addedNodes:[],removedNodes:[],previousSibling:null,nextSibling:null,attributeName:null,attributeNamespace:null,oldValue:null};for(g in e)n[g]!==t&&e[g]!==t&&(n[g]=e[g]);return n}function n(e,n){var I=o(e,n);return function(i){var r=i.length;if(n.a&&3===e.nodeType&&e.nodeValue!==I.a&&i.push(new g({type:"characterData",target:e,oldValue:I.a})),n.b&&I.b&&A(i,e,I.b,n.f),n.c||n.g)var a=function(e,n,o,I){function i(t,n,o,C,s){var i,a,l,c=t.length-1;for(s=-~((c-s)/2);l=t.pop();)i=o[l.j],a=C[l.l],I.c&&s&&Math.abs(l.j-l.l)>=c&&(e.push(g({type:"childList",target:n,addedNodes:[i],removedNodes:[i],nextSibling:i.nextSibling,previousSibling:i.previousSibling})),s--),I.b&&a.b&&A(e,i,a.b,I.f),I.a&&3===i.nodeType&&i.nodeValue!==a.a&&e.push(g({type:"characterData",target:i,oldValue:a.a})),I.g&&r(i,a)}function r(n,o){for(var l,c,d,u,p,h=n.childNodes,m=o.c,f=h.length,v=m?m.length:0,b=0,$=0,y=0;$<f||y<v;)(u=h[$])===(p=(d=m[y])&&d.node)?(I.b&&d.b&&A(e,u,d.b,I.f),I.a&&d.a!==t&&u.nodeValue!==d.a&&e.push(g({type:"characterData",target:u,oldValue:d.a})),c&&i(c,n,h,m,b),I.g&&(u.childNodes.length||d.c&&d.c.length)&&r(u,d),$++,y++):(a=!0,l||(l={},c=[]),u&&(l[d=C(u)]||(l[d]=!0,-1===(d=s(m,u,y,"node"))?I.c&&(e.push(g({type:"childList",target:n,addedNodes:[u],nextSibling:u.nextSibling,previousSibling:u.previousSibling})),b++):c.push({j:$,l:d})),$++),p&&p!==h[$]&&(l[d=C(p)]||(l[d]=!0,-1===(d=s(h,p,$))?I.c&&(e.push(g({type:"childList",target:o.node,removedNodes:[p],nextSibling:m[y+1],previousSibling:m[y-1]})),b--):c.push({j:d,l:y})),y++));c&&i(c,n,h,m,b)}var a;return r(n,o),a}(i,e,I,n);(a||i.length!==r)&&(I=o(e,n))}}function A(e,n,A,o){for(var C,I,s={},i=n.attributes,a=i.length;a--;)I=(C=i[a]).name,o&&o[I]===t||(r(n,C)!==A[I]&&e.push(g({type:"attributes",target:n,attributeName:I,oldValue:A[I],attributeNamespace:C.namespaceURI})),s[I]=!0);for(I in A)s[I]||e.push(g({target:n,type:"attributes",attributeName:I,oldValue:A[I]}))}function o(t,e){var g=!0;return function t(n){var A={node:n};return!e.a||3!==n.nodeType&&8!==n.nodeType?(e.b&&g&&1===n.nodeType&&(A.b=I(n.attributes,(function(t,g){return e.f&&!e.f[g.name]||(t[g.name]=r(n,g)),t}),{})),g&&(e.c||e.a||e.b&&e.g)&&(A.c=function(t,e){for(var g=[],n=0;n<t.length;n++)g[n]=e(t[n],n,t);return g}(n.childNodes,t)),g=e.g):A.a=n.nodeValue,A}(t)}function C(t){try{return t.id||(t.mo_id=t.mo_id||a++)}catch(e){try{return t.nodeValue}catch(t){return a++}}}function I(t,e,g){for(var n=0;n<t.length;n++)g=e(g,t[n],n,t);return g}function s(t,e,g,n){for(;g<t.length;g++)if((n?t[g][n]:t[g])===e)return g;return-1}e._period=30,e.prototype={observe:function(t,g){for(var A={b:!!(g.attributes||g.attributeFilter||g.attributeOldValue),c:!!g.childList,g:!!g.subtree,a:!(!g.characterData&&!g.characterDataOldValue)},o=this.i,C=0;C<o.length;C++)o[C].s===t&&o.splice(C,1);g.attributeFilter&&(A.f=I(g.attributeFilter,(function(t,e){return t[e]=!0,t}),{})),o.push({s:t,o:n(t,A)}),this.h||function(t){!function g(){var n=t.takeRecords();n.length&&t.m(n,t),t.h=setTimeout(g,e._period)}()}(this)},takeRecords:function(){for(var t=[],e=this.i,g=0;g<e.length;g++)e[g].o(t);return t},disconnect:function(){this.i=[],clearTimeout(this.h),this.h=null}};var i=document.createElement("i");i.style.top=0;var r=(i="null"!=i.attributes.style.value)?function(t,e){return e.value}:function(t,e){return"style"!==e.name?e.value:t.style.cssText},a=1;return e}(void 0))},function(t,e,g){"use strict";var n=g(0),A=g(63),o=g(9);n.a.component("appResizeTool",{controller:A.a,template:o.default,bindings:{shortcode:"<"}})},function(t,e,g){"use strict";var n=g(0);class A{constructor(t,e,g,n){this.buttons=[],this.shortcode=null,e.$watch(()=>t.states.outlinedShortcode,t=>{if(!t)return g.removeClass("active");this.shortcode=this.getShortcodeWithButtons(t),g.toggleClass("active",!!this.shortcode),g.cover(this.shortcode?this.shortcode.$element:null)}),e.$on(n.CHANGE,()=>{this.shortcode&&g.cover(this.shortcode.$element)})}getShortcodeWithButtons(t){var e=t.ancestorsAndSelf;for(let t=0;t<e.length;t++)if(e[t].data.addButtons)return e[t];return null}getIndex(t){var e=0;return"right-center"!==t&&"bottom-right"!==t&&"bottom-center"!==t&&"bottom-left"!==t||(e=this.shortcode.children.length),e}}A.$inject=["app","$scope","$element","Event"],n.a.component("addButtons",{controller:A,template:'\n    <div class="add-buttons">\n      <add-button\n        class="{{:: button }}"\n        shortcode="$ctrl.shortcode"\n        index="$ctrl.getIndex(button)"\n        data-tooltip="{{:: $ctrl.shortcode.data.message }}"\n        ng-repeat="button in $ctrl.shortcode.data.addButtons">\n      </add-button>\n    </div>\n  '})},function(t,e,g){"use strict";var n=g(0);class A{constructor(t,e,g,n){var A=g.find(".name");e.$watch(()=>t.states.outlinedShortcode,t=>{if(!t)return g.removeClass("active");A.text(t.data.name),g.toggleClass("active",t.$element.isVisible()),g.cover(t.$element)}),e.$on(n.CHANGE,()=>{t.states.outlinedShortcode&&g.cover(t.states.outlinedShortcode.$element)})}}A.$inject=["app","$scope","$element","Event"],n.a.component("appOutlineTool",{controller:A,template:'\n    <div class="wrapper">\n      <h3 class="name"></h3>\n    </div>\n  '})},function(t,e,g){"use strict";var n=g(0);class A{constructor(t,e,g,n,A){this.app=g,this.shortcode=null,t.$watch(()=>g.states.selectedShortcode,t=>{if(!t)return e.removeClass("active");this.shortcode=g.states.selectedShortcode,this.ancestors=g.states.selectedShortcode.ancestors.reverse(),this.ancestors.splice(0,1),e.cover(t.$element).addClass("active")}),t.$on(A.CHANGE,()=>{g.states.selectedShortcode&&e.cover(g.states.selectedShortcode.$element)})}configureShortcode(t){this.app.configureShortcode(t)}outlineShortcode(t){this.app.outlineShortcode(t)}hideOutline(){this.app.outlineShortcode(null)}showContextMenu(t){this.app("contextMenu").open(this.shortcode,t.currentTarget)}}A.$inject=["$scope","$element","app","store","Event"],n.a.component("appSelectTool",{controller:A,bindings:{shortcode:"<"},template:'\n    <div class="wrapper">\n      <div ng-if="$ctrl.ancestors.length > 0" class="ancestors">\n        <span class="dashicons dashicons-arrow-up-alt2"></span>\n        <ul>\n          <li ng-repeat="ancestor in $ctrl.ancestors">\n            <button type="button" class="name"\n              draggable-shortcode="ancestor"\n              ng-click="$ctrl.configureShortcode(ancestor); $event.stopPropagation();"\n              ng-mouseover="$ctrl.outlineShortcode(ancestor)"\n              ng-mouseout="$ctrl.hideOutline()">\n              {{:: ancestor.data.name }}\n            </button>\n          </li>\n        </ul>\n      </div>\n      <h3 class="name" draggable-shortcode="$ctrl.shortcode">\n        {{ $ctrl.shortcode.data.name }}\n      </h3>\n      <button class="options" ng-click="$ctrl.showContextMenu($event); $event.stopPropagation();">\n        <span class="dashicons dashicons-admin-generic"></span>\n      </button>\n    </div>\n  '})},function(t,e,g){"use strict";var n=g(0);const A=angular.element("body");class o{constructor(t,e,g,n,A,o,C,I,s,i){this.app=t,this.store=e,this.utils=n,this.responsiveHelper=s;var r=performance.now();this.store.postContent.$element=o,this.store.postContent.$scope=A,this.store.postContent.data.addableSpots.map(t=>{g.add(t,{shortcode:this.store.postContent,target:this.store.postContent})}),this.onPostOptionsChanged(e.post.attributes.values,{},e.post.attributes.options),A.$watchCollection(()=>e.post.attributes.values,(t,g)=>{this.onPostOptionsChanged(t,g,e.post.attributes.options)}),this.onPostOptionsChanged(e.post.meta.values,{},e.post.meta.options),A.$watchCollection(()=>e.post.meta.values,(t,g)=>{this.onPostOptionsChanged(t,g,e.post.meta.options)}),A.$on(i.CHANGED,()=>g.updateOffsets()),C(()=>{I.debug("Elements compiled in ".concat(performance.now()-r,"ms"))},0,!1)}onPostOptionsChanged(t,e,g){for(let n in t)if(t[n]!==e[n]){let o=g.get(n);o.onChange&&o.apply(A,t[n],e[n])}}showTemplates(){return this.store.postContent.isEmpty&&Object.keys(this.store.templates).length}}o.$inject=["app","store","targets","utils","$scope","$element","$timeout","$log","ResponsiveHelper","ShortcodeEvent"],n.a.component("postContent",{controller:o,template:'\n    <content content="_root [root]" shortcode="$ctrl.store.postContent"></content>\n    <template-selector ng-if="$ctrl.showTemplates()"></template-selector>\n  '})},,,,function(t,e,g){"use strict";var n=g(0);class A{constructor(t,e,g,n,A,o){this.app=t,this.store=e,this.utils=g,this.$timeout=n,this.$element=o,this.shortcode=null,A.$watch(()=>t.states.outlinedShortcode,t=>{if(!t)return o.removeClass("uxb-is-active");let e=function(t){let e=t.ancestorsAndSelf;for(let t=0;t<e.length;t++)if(e[t].data.move)return e[t];return null}(t),g=!!e&&!1!==e.data.move;o.toggleClass("uxb-is-active",g),o.cover(g?e.$element:null),this.shortcode=e}),A.$on(Event.CHANGE,()=>{this.shortcode&&o.cover(this.shortcode.$element)})}classNames(t){return this.utils.arrayPrefix(angular.isArray(t.data.move)?t.data.move:[t.data.move],"uxb-is-")}}A.$inject=["app","store","utils","$timeout","$scope","$element"];var o=g(8);n.a.component("appMoveTool",{controller:A,template:o.default,bindings:{shortcode:"<"}})},,,,,,,function(t,e,g){"use strict";var n=g(0);class A{constructor(t,e,g,n,A,o,C,I,s,i){this.app=t,this.store=e,this.shortcode=g,this.targets=n,this.$scope=o;let r=!!g.data.draggable&&A(g);if(g.data.addableSpots.map(t=>{n.add(t,{shortcode:g})}),C.find("a, img").attr("draggable","false"),C.on("click",(function(n){n.stopPropagation(),n.preventDefault(),e.isDragging||(t.configureShortcode(g),t.apply())})),this.onOptionsChanged(g.options,null,!0),o.$watchCollection(()=>g.options,(e,n)=>{e!==n&&(this.store.isSaved=!1,this.app.trigger(i.CHANGED,{shortcode:g,options:e,oldOptions:n}),this.onOptionsChanged(e,n)),t.states.selectedShortcode===g&&this.app("tools").fixPositions()}),angular.isDefined(g.content)){let e=!1;o.$watch(()=>g.content,(n,A)=>{n!==A&&(s.cancel(e),e=s(()=>{t.trigger("shortcode-content-change",g)},0,!1))})}o.$watch(()=>t.states.selectedShortcode,t=>{C.toggleClass("uxb-selected",t===g)}),t.states.selectedShortcode&&t.states.selectedShortcode.$id===g.$id&&t.selectShortcode(g),g.$$new&&s(()=>t.trigger(i.ATTACHED,g),0,!1),g.$$new=!1,g.$$moved=!1,o.$on("$destroy",(function(){n.remove(g),C.off("click"),r&&r.element&&r.destroy()}))}onOptionsChanged(t,e,g){let n=!1;for(let A in t){if("$"===A.charAt(0))continue;let o=this.shortcode.data.options.named[A],C=e?e[A]:"",I=null===t[A]&&C===o.default;if(g||!I&&t[A]!==C)if(o.onChange){let e=o.apply(this.shortcode.$element,t[A],C);n=n||!e}else n=!0}!this.shortcode.$noRecompile&&!this.shortcode.data.template&&n&&e&&e!==t&&this.$scope.$$recompile()}}A.$inject=["app","store","shortcode","targets","draggable","$scope","$element","$iframe","$timeout","ShortcodeEvent"],n.a.controller("ShortcodeController",A)},function(t,e,g){"use strict";var n=g(0);class A{constructor(t,e,g,n,A,o,C,I,s,i,r,a,l,c,d){var u=this,p={},h=C.element("app").find(".tools-addable"),m=n.find(".tools-addable");u.target=null,u.$targetElement=null,u.addable=null,t.register("tools",u),_.each(e.tools,(function(t,e){var A=snakeCase(e,"-"),C="<".concat(A,' shortcode="shortcode"></').concat(A,">");o(C)(g,(e,g)=>{I(()=>{t.$element=e,t.$ctrl=g.$$childHead.$ctrl,n.append(e)},0,!1)})})),s().on(c.CHANGED,(function(){A.requestAnimationFrame(u.fixPositions)})),s().on(c.RESIZE,(function(){A.requestAnimationFrame(u.fixPositions)})),s().on(c.SCROLL,(function(){})),g.$on(d.CHANGED,()=>u.fixPositions()),g.$on(d.DELETED,()=>u.hide()),g.$on(c.RELOAD,()=>u.hide()),g.$on(l.PAN_MOVE,(e,g)=>{g.defaultPrevented?(t.outlineShortcode(null),u.hideAddableSpot()):t.outlineShortcode(g.isWithin?g.target.parent():null)}),g.$on(l.PAN_END,()=>{u.hideAddableSpot(),u.fixPositions()}),u.apply=function(){g.$digest()};let f=!1;u.fixPositions=function(){I.cancel(f),f=I((function(){for(let t in p)p[t].$tool.hasClass("active")&&p[t].$tool.cover(p[t].$element);u.$targetElement&&u.getAddableElement().cover(u.$targetElement),g.$broadcast(r.CHANGE)}),0)},u.addTool=function(t,e,A){p.hasOwnProperty(t)&&u.removeTool(t),p[t]={},p[t].$element=A,p[t].$scope=g.$new(),p[t].$tool=o(e)(p[t].$scope),n.append(p[t].$tool)},u.getTool=function(t){var e=p[t];return{element:function(){return e.$element},scope:function(){return e.$scope.$$childHead},tool:function(){return e.$tool}}},u.showTool=function(t){p[t].$tool.addClass("active"),p[t].$tool.cover(p[t].$element)},u.hideTool=function(t){p[t].$tool.removeClass("active")},u.removeTool=function(t){p[t].$element=null,p[t].$scope.$destroy(),p[t].$tool.remove(),p[t].$tool=null,delete p[t]},u.hide=function(){u.hideAddableSpot()},u.getAddableElement=function(){return u.$targetElement&&u.$targetElement.get(0).ownerDocument.defaultView.frameElement?(h.removeClass("active"),m):(m.removeClass("active"),h)},u.showAddableSpot=function(e){let g=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(!e||t.states.freezed)return u.hideAddableSpot();u.toggleAddableButton(g),u.target=e,u.addable=e.target,u.index=e.index,u.$targetElement=u.target.shortcode.isEmpty&&u.target.element[0].ownerDocument.defaultView.frameElement&&"center"===u.target.name?u.target.shortcode.$content:u.target.element,u.getAddableElement().toggleClass("is-empty","center"===e.name),u.getAddableElement().toggleClass("is-left","left"===e.name),u.getAddableElement().toggleClass("is-right","right"===e.name),u.getAddableElement().toggleClass("is-top","top"===e.name),u.getAddableElement().toggleClass("is-bottom","bottom"===e.name),u.getAddableElement().toggleClass("is-deputy",u.target.element!==u.target.shortcode.$element),u.getAddableElement().cover(u.$targetElement,{includeMargins:!0}).addClass("active")},u.toggleAddableButton=function(t){u.getAddableElement().toggleClass("no-button",!1===t)},u.hideAddableSpot=function(){return u.getAddableElement().removeClass("active"),u.$targetElement=null,u.target=null,!1},u.addShortcode=function(){t("addables").open(u.addable,u.index),u.target=null,u.addable=null,u.index=null}}}A.$inject=["app","store","$scope","$element","$window","$compile","$angular","$timeout","$iframe","utils","Event","AppEvent","DragEvent","IframeEvent","ShortcodeEvent"],n.a.component("appTools",{controller:A,template:g(20).default})},function(t,e,g){"use strict";var n=g(0),A=g(5);class o{constructor(t,e,g,n,o,I,r,a,l,c,d,u,p,h,m,f,v,b,$){n.attach(document);var y=null,w=performance.now();let x,E;function S(){const{iframeRect:t,iframe:{x:e,y:g}}=E,{top:n}=Object(A.a)();let o,C=g,I=t.bottom-t.top-g;C<100?o=(t.top+C-(t.top+100))/5:I<100&&(o=(t.bottom+100-(t.bottom+I))/5),o&&e>=0&&e<=t.right-t.left&&Object(A.c)(n+o)}e.postContent=I.create(e.post.content),h.debug("Element instances created in ".concat(performance.now()-w,"ms")),angular.element("body").on("click",(function(g){g.preventDefault(),e.isDragging||e.isScrolling||(t.configureShortcode(null),t.apply())})),angular.element("body").on("mousemove",(function(n){e.isDragging||e.isScrolling||e.isReloading||u.requestAnimationFrame((function(){let e=o.getGlobalCoordinates(n.view,n.clientX,n.clientY),A=g.find(e.x,e.y),C=o.shortcodeFromPoint(e.x,e.y);t("tools").showAddableSpot(A.length?A[0]:null),C.isRoot||t.outlineShortcode(C),t("tools").apply()}))})),angular.element("body").on("mouseleave",(function(g){e.isDragging||e.isScrolling||e.isReloading||u.requestAnimationFrame((function(){t("tools").hideAddableSpot(),t.outlineShortcode(null),t("tools").apply()}))})),angular.element(u).on("scroll",(function(){c().trigger($.SCROLL),e.isScrolling=!0,p.cancel(y),y=p(()=>e.isScrolling=!1,200,!1)})),a.$on(b.CHANGED,(function(){t.states.selectedShortcode?p(()=>s(t.states.selectedShortcode.$element),0,!1):C(l)&&p(()=>s(l),0,!1)})),r.$on(f.PAN_START,(t,e)=>{E=e,x=setInterval(S,1e3/60)}),r.$on(f.PAN_MOVE,(t,e)=>{E=e}),r.$on(f.PAN_END,()=>{clearInterval(x),x=E=null}),angular.element(u).on(v.RESIZE,(function(){c().trigger($.RESIZE)})),new MutationObserver(t=>{e.initialized&&g.updateOffsets(!0),c().trigger($.CHANGED,t)}).observe(document.querySelector("post-content"),{attributes:!0,childList:!0,subtree:!0,characterData:!1}),p(()=>{C(l)&&s(l,0),e.initialized=!0,e.loading=!1,t.broadcast(m.READY),i(document,"uxb_app_ready")},0,!0)}}function C(t){let e=t.offset(),g=t.height();return e.top+g<I()||e.top>I()+window.innerHeight}function I(){return document.documentElement.scrollTop||document.body.scrollTop}function s(t){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:void 0;angular.element("html, body").scrollToElement(t,e)}function i(t,e){t.dispatchEvent(new Event(e))}o.$inject=["app","store","targets","contextmenu","utils","Shortcode","$rootScope","$scope","$element","$iframe","$compile","$window","$timeout","$log","AppEvent","DragEvent","Event","MediaEvent","IframeEvent"],n.a.component("postWrapper",{controller:o,template:"\n    <post-content></post-content>\n  "})},function(t,e,g){"use strict";var n=g(0);const A=[];let o=0;class C{constructor(t,e,g,n,A,o,C,I,s,i,r,a,l,c,d,u,p,h){this.app=t,this.store=e,this.dependencies=n,this.$scope=A,this.$element=o,this.$compile=C,this.$q=I,this.$transclude=s,this.$injector=i,this.$templateCache=r,this.shortcodeTemplateCache=a,this.$animate=l,this.$timeout=c,this.$controller=d,this.$log=u,this.ShortcodeEvent=p,this.ChildEvent=h}$onInit(){const{app:t,store:e,dependencies:g,$scope:n,$element:C,$compile:I,$q:s,$transclude:i,$templateCache:r,shortcodeTemplateCache:a,$animate:l,$timeout:c,$controller:d,$log:u,ShortcodeEvent:p,ChildEvent:h}=this;var m,f=this;function v(g){let n,C=s.defer(),i=!0;if(n=g.data.template?g.data.template:a.get(g.data.templateUrl||g.$id),angular.isDefined(n))return I($(g,n))(g.$scope,(function(t){t.data("shortcode",g),g.$element=t,C.resolve(g)})),C.promise;void 0===g.$element&&(n=$(g,r.get("shortcodes/_loading.html"),!0),g.$element=I(n)(g.$scope),g.$element.data("shortcode",g),i=!1),g.$element&&g.$element.addClass("processing");const l={url:e.postUrl,type:"POST",data:{security:e.nonce,post_id:e.post.id,ux_builder_action:"do_shortcode",ux_builder_shortcode:g.copy((function(t,e){t.$id=e.$id,t.depth=e.ancestors.length,t.nested=_.filter(e.ancestors,(function(t){return t.tag===e.tag})).length}))},beforeSend(t){g.$$xhr=t,o++},success(e){g.$scope&&(g.$$new=!0,a.put(g.$id,e),n=$(g,e),I(n)(g.$scope,(function(e){i&&t.trigger(p.DETACHED,g),g.children&&g.children.forEach((function(t){t.$element&&(t.$element.data("shortcode",null),t.$element.remove(),delete t.$element)})),e.data("shortcode",g),g.$element.removeClass("processing"),g.$element.replaceWith(e),g.$element=e,C.resolve(g)})))},complete(t,e){g.$$xhr=null,o--,"success"!==e&&C.reject(),A.length&&jQuery.ajax(A.shift())}};return o<5?jQuery.ajax(l):A.push(l),C.promise}function b(t){var n={$scope:t.$scope,$element:t.$element,tools:e.tools?e.tools["custom".concat(capitalize(t.tag),"Tools")]:null,shortcode:t};s.all([g.injectStyles(t.data.styles),g.injectScripts(t.data.scripts)]).finally(()=>{d("ShortcodeController as $ctrl",n),t.data.controller&&d("".concat(t.tag,"__controller as $customCtrl"),n)})}function $(t,e,g){if(e=(e=(e=e.replace("<content",'<content content="'+t.tag+" ["+t.$id+']" shortcode="shortcode"')).replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,"")).replace(/<!--[\s\S]*?-->/g,""),t.data.wrap||g){let g=["uxb-wrapper","uxb-wrapper--".concat(t.tag)];t.data.inline&&g.push("uxb-wrapper-inline"),t.data.overlay&&(e+='<div class="uxb-overlay"></div>'),e='\n                  <div class="'.concat(g.join(" "),'">\n                    ').concat(e,"\n                  </div>\n                ")}return e}n.$watchCollection(()=>this.shortcode.children,(function(e,g){var A=[],o=[];_.each(e,(function(g,o){g.$element||(A.push(g),g.$scope=n.$new(),function(e){var g=e.index,n=e.siblings;e.$scope.shortcode=e,e.$scope.$index=g,e.$scope.$first=0===g,e.$scope.$last=g===n.length-1,e.$scope.$middle=!(e.$scope.$first||e.$scope.$last),e.$scope.$odd=!(e.$scope.$even=0==(1&g)),e.$scope.$$recompile=function(){return(g=e).$$xhr&&g.$$xhr.abort(),c.cancel(g.$recompile),void(g.$recompile=c(()=>{a.remove(g.$id),v(g).then((function(e){const g=e.copy((t,e)=>{t.$id=e.$id}),n=e.replaceWith(g);n.$$new=!0,t.broadcast(p.RECOMPILED,n)})).catch(()=>{}),u.debug("x recompiling",g.tag),delete g.$recompile},250,!1));var g},e.$scope.$on("$destroy",()=>{delete e.$scope.shortcode,delete e.$scope.$$recompile})}(g),v(g).then(b),l.move(g.$element,null,0===o?C:e[o-1].$element))})),_.each(g,(function(t,g){e.indexOf(t)>-1||(t.originalIndex=g,o.push(t))})),g&&g.length===e.length&&_.each(e,(function(t,e){l.move(t.$element,null,0===e?C:f.shortcode.children[e-1].$element)})),_.each(o,t=>n.$parent.$broadcast(h.REMOVED,t)),_.each(A,t=>n.$parent.$broadcast(h.ADDED,t)),_.each(o,(function(t){l.leave(t.$element),t.$scope.$destroy(),t.$element.data("shortcode",null),t.$element.remove(),t.$element=null,t.$content=null,t.$scope=null})),i((t,g)=>{m||0!==e.length?f.shortcode.$content&&(m.$destroy(),l.leave(f.shortcode.$content),f.shortcode.$content.data("shortcode",null),f.shortcode.$content.remove(),f.shortcode.$content=null,m=null):(m=g,t.html('\n                        <div class="uxb-empty-message">\n                            '.concat(f.shortcode.data.message,"\n                        </div>\n                    ")),t.data("shortcode",f.shortcode),f.shortcode.$content=t,l.enter(f.shortcode.$content,C.parent(),C))})}))}}C.$inject=["app","store","utils","dependencies","$scope","$element","$compile","$q","$transclude","$injector","$templateCache","shortcodeTemplateCache","$animate","$timeout","$controller","$log","ShortcodeEvent","ChildEvent"],n.a.component("content",{controller:C,transclude:"element",bindings:{shortcode:"<"}})}]);